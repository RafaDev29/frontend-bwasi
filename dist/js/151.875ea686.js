"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[151],{2683:function(e,t,a){a.d(t,{GP:function(){return n},LO:function(){return i},Pu:function(){return s},ek:function(){return l}});var r=a(1189);const o="https://api.bwasi.maquiadev.com/api/v1";function s(e){return r.A.get(`${o}/type-areapoints`,{headers:{Authorization:`Bearer ${e}`}})}function n(e,t){return r.A.delete(`${o}/type-areapoints/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t){return r.A.post(`${o}/type-areapoints`,t,{headers:{Authorization:`Bearer ${e}`}})}function l(e,t,a){return r.A.patch(`${o}/type-areapoints/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},4151:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var r=a(6768);const o={class:"flex justify-between items-center"},s={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 z-[9999]"};function n(e,t,a,n,i,l){const c=(0,r.g2)("formTable"),d=(0,r.g2)("AreasModal"),m=(0,r.g2)("createForm"),u=(0,r.g2)("EditForm");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",null,[(0,r.Lk)("div",o,[t[1]||(t[1]=(0,r.Lk)("h1",{class:"font-bold lg:text-2xl text-xl text-gray-500 mb-5"}," Categoria de Antenas",-1)),(0,r.Lk)("button",{class:"flex items-center justify-center bg-[#497fae] text-white font-bold px-4 py-1 rounded-lg hover:bg-[#6999c2] shadow-md mdi mdi-plus text-xl",onClick:t[0]||(t[0]=(...e)=>n.openCreateForm&&n.openCreateForm(...e))})]),(0,r.bF)(c,{items:n.items,onViewAreas:n.listAreas,onDeleteItem:n.deleteItems,onEditItem:n.openEditForm},null,8,["items","onViewAreas","onDeleteItem","onEditItem"]),n.isAreasModalVisible?((0,r.uX)(),(0,r.Wv)(d,{key:0,areas:n.selectedAreas,onClose:n.closeAreasModal,isVisible:n.isAreasModalVisible},null,8,["areas","onClose","isVisible"])):(0,r.Q3)("",!0),n.isCreateFormVisible?((0,r.uX)(),(0,r.Wv)(m,{key:1,onClose:n.closeCreateForm,onItemCreate:n.submitItems},null,8,["onClose","onItemCreate"])):(0,r.Q3)("",!0),n.isEditFormVisible?((0,r.uX)(),(0,r.Wv)(u,{key:2,item:n.selectedItem,onClose:n.closeEditForm,onUpdateItem:n.updateItems},null,8,["item","onClose","onUpdateItem"])):(0,r.Q3)("",!0)]),n.isLoading?((0,r.uX)(),(0,r.CE)("div",s,t[2]||(t[2]=[(0,r.Lk)("div",{class:"flex flex-col items-center space-y-4"},[(0,r.Lk)("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"}),(0,r.Lk)("p",{class:"text-white text-lg font-semibold"},"Cargando, por favor espera...")],-1)]))):(0,r.Q3)("",!0)],64)}var i=a(144),l=a(2683),c=a(2729),d=a(4260),m=a(9669),u=a(4750);function p(e,t,a,o,s,n){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(u.W,{modelValue:o.search,"onUpdate:modelValue":t[0]||(t[0]=e=>o.search=e),label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-5 PT-3",density:"compact"},null,8,["modelValue"]),(0,r.bF)(c.J,{flat:""},{default:(0,r.k6)((()=>[(0,r.bF)(d.Py,{headers:o.headers,items:o.filteredItems,search:o.search,density:"compact",class:"ma-2"},{["item.actions"]:(0,r.k6)((({item:e})=>[(0,r.bF)(m.w,{small:"",color:"#099cb4",class:"mr-4",onClick:t=>o.editItem(e)},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)(" mdi-pencil ")]))),_:2},1032,["onClick"]),(0,r.bF)(m.w,{small:"",color:"red",onClick:t=>o.deleteItem(e)},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)(" mdi-delete ")]))),_:2},1032,["onClick"])])),_:2},1032,["headers","items","search"])])),_:1})],64)}a(8992),a(4520),a(1454),a(7550);var f={name:"DataTable",props:{items:{type:Array,required:!0}},emits:["deleteItem","editItem","viewAreas"],setup(e,{emit:t}){const a=(0,i.KR)(""),o=(0,i.KR)([{key:"id",title:"ID"},{key:"name",title:"Nombre"},{key:"actions",title:"Acciones",sortable:!1}]),s=(0,r.EW)((()=>{if(!a.value)return n.value;const e=a.value.toLowerCase();return n.value.filter((t=>Object.values(t).some((t=>String(t).toLowerCase().includes(e)))))})),n=(0,r.EW)((()=>e.items.map(((e,t)=>({id:t+1,...e}))))),l=e=>{t("deleteItem",e)},c=e=>{t("editItem",e)},d=e=>{t("viewAreas",e)};return{search:a,headers:o,filteredItems:s,deleteItem:l,editItem:c,viewAreas:d}}},b=a(1241);const g=(0,b.A)(f,[["render",p],["__scopeId","data-v-4178814e"]]);var x=g,y=a(5130);const v={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-[9999]"},k={class:"bg-white rounded-lg shadow-md max-w-md w-full p-2"},h={class:"mb-4"},C={class:"flex justify-end space-x-2"};function A(e,t,a,o,s,n){return o.item?((0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("div",k,[t[5]||(t[5]=(0,r.Lk)("h2",{class:"text-xl font-semibold text-gray-700 mb-4 text-center"},"Crear categoría",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,y.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",h,[t[3]||(t[3]=(0,r.Lk)("label",{class:"block text-sm text-gray-500 mb-1"},"Nombre",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.form.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[y.Jo,o.form.name]])]),(0,r.Lk)("div",C,[(0,r.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>o.closeDialog&&o.closeDialog(...e)),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),t[4]||(t[4]=(0,r.Lk)("button",{type:"submit",class:"px-4 py-2 bg-[#396895] text-white rounded-lg hover:bg-[#396895]"}," Guardar ",-1))])],32)])])):(0,r.Q3)("",!0)}var w=a(5129),I={emits:["close","ItemCreate"],setup(e,{emit:t}){const a=w.A.getters.getItemName("Items Moviles"),r=(0,i.KR)(!0),o=(0,i.KR)({name:""}),s=()=>{t("close")},n=async()=>{t("ItemCreate",o.value)};return{item:r,form:o,closeDialog:s,submitForm:n,nameCtag:a}}};const L=(0,b.A)(I,[["render",A]]);var F=L;const E={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-[9999]"},B={class:"bg-white rounded-lg shadow-lg max-w-md w-full p-6"},V={class:"mb-4"},T={class:"flex justify-end space-x-2"};function K(e,t,a,o,s,n){return a.item?((0,r.uX)(),(0,r.CE)("div",E,[(0,r.Lk)("div",B,[t[5]||(t[5]=(0,r.Lk)("h2",{class:"text-lg font-semibold text-gray-700 mb-4 text-center"},"Editar categoría",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,y.D$)(((...e)=>o.submitUpdate&&o.submitUpdate(...e)),["prevent"]))},[(0,r.Lk)("div",V,[t[3]||(t[3]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.editedItem.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[y.Jo,o.editedItem.name]])]),(0,r.Lk)("div",T,[(0,r.Lk)("button",{type:"button",onClick:t[1]||(t[1]=t=>e.$emit("close")),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),t[4]||(t[4]=(0,r.Lk)("button",{type:"submit",class:"px-4 py-2 bg-[#396895] text-white rounded-lg hover:bg-[#396895]"}," Guardar Cambios ",-1))])],32)])])):(0,r.Q3)("",!0)}var $={props:{item:{type:Object,required:!0}},emits:["close","updateItem"],setup(e,{emit:t}){const a=(0,i.KR)({...e.item});(0,r.wB)((()=>e.item),(e=>{a.value={...e}}));const o=()=>{t("updateItem",a.value)};return{editedItem:a,submitUpdate:o}}};const R=(0,b.A)($,[["render",K]]);var _=R,z=a(4874),j=a.n(z),D={components:{formTable:x,createForm:F,EditForm:_},setup(){const e=(0,i.KR)([]),t=(0,i.KR)(null),a=(0,i.KR)(null),o=(0,i.KR)(!1),s=(0,i.KR)(!1),n=(0,i.KR)(!1),c=(0,i.KR)(!1),d=()=>{n.value=!0},m=()=>{n.value=!1},u=()=>{o.value=!0},p=()=>{o.value=!1},f=e=>{t.value=e,s.value=!0},b=()=>{s.value=!1,t.value=null},g=e=>{a.value={...e},c.value=!0},x=()=>{c.value=!1},y=async e=>{u();try{const t=w.A.state.token,a=e._id,r={name:e.name},o=await(0,l.ek)(t,r,a);o&&(x(),p(),j().fire({title:"Éxito",text:"La categoría de antena fue actualizada correctamente.",icon:"success",confirmButtonText:"Aceptar"}),setTimeout((()=>{location.reload()}),2e3)),await h()}catch(t){p();const e=t.response?.data?.message||t.response?.data||"Ocurrió un error al actualizar la categoría de antena.";console.error("Error al actualizar la categoría de antena:",e),j().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},v=async e=>{try{const t=w.A.state.token,a={name:e.name};await(0,l.LO)(t,a),await h(),m(),j().fire({title:"Éxito",text:"La categoría fue creada correctamente.",icon:"success",confirmButtonText:"Aceptar"}),setTimeout((()=>{location.reload()}),2e3)}catch(t){const e=t.response?.data?.message||t.response?.data||"Error al crear la categoría.";j().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},k=async e=>{const t=await j().fire({title:"¿Estás seguro?",text:"No podrás revertir esto.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f7a304",cancelButtonColor:"#deddda",cancelButtonText:"Cancelar",confirmButtonText:"Sí, eliminar",reverseButtons:!0});if(t.isConfirmed){u();try{const t=w.A.state.token,a=e._id;await(0,l.GP)(t,a),p(),await h(),j().fire({title:"Éxito",text:"La categoría fue eliminada correctamente.",icon:"success",confirmButtonText:"Aceptar"}),setTimeout((()=>{location.reload()}),2e3)}catch(a){p();const e=a.response?.data?.message||a.response?.data||"Error al eliminar la categoría.";j().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}}},h=async()=>{u();try{const t=w.A.state.token,a=await(0,l.Pu)(t);e.value=a.data.data,p()}catch(t){p();const e=t.response?.data?.message||t.response?.data||"Error al listar las categorías.";j().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}};return(0,r.sV)(h),{items:e,fetchItems:h,openLoading:u,closeLoading:p,isLoading:o,listAreas:f,closeAreasModal:b,selectedAreas:t,isAreasModalVisible:s,deleteItems:k,isCreateFormVisible:n,openCreateForm:d,closeCreateForm:m,submitItems:v,updateItems:y,openEditForm:g,closeEditForm:x,isEditFormVisible:c,selectedItem:a}}};const U=(0,b.A)(D,[["render",n]]);var W=U}}]);
//# sourceMappingURL=151.875ea686.js.map