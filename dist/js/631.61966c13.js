"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[631],{650:function(e,t,o){o.d(t,{Be:function(){return n},IE:function(){return l},W7:function(){return i},jO:function(){return s}});var a=o(1189);const r="https://api.bwasi.maquiadev.com/api/v1";function l(e){return a.A.get(`${r}/type-mobileitems`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return a.A.delete(`${r}/type-mobileitems/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t){return a.A.post(`${r}/type-mobileitems`,t,{headers:{Authorization:`Bearer ${e}`}})}function n(e,t,o){return a.A.patch(`${r}/type-mobileitems/${o}`,t,{headers:{Authorization:`Bearer ${e}`}})}},8631:function(e,t,o){o.r(t),o.d(t,{default:function(){return Xe}});var a=o(6768),r=o(4232);const l={class:"flex justify-between items-center"},s={class:"font-bold lg:text-2xl text-xl text-gray-500 mb-5"},i={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 z-[9999]"};function n(e,t,o,n,d,c){const u=(0,a.g2)("DataTable"),m=(0,a.g2)("createForm"),f=(0,a.g2)("EditForm"),p=(0,a.g2)("EditCategory"),b=(0,a.g2)("ImportModal");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",null,[(0,a.Lk)("div",l,[(0,a.Lk)("h1",s,(0,r.v_)(n.nameTag),1),(0,a.Lk)("button",{class:"flex items-center justify-center bg-[#497fae] text-white font-bold px-4 py-1 rounded-lg hover:bg-[#6999c2] shadow-md mdi mdi-plus text-xl",onClick:t[0]||(t[0]=(...e)=>n.openCreateForm&&n.openCreateForm(...e))})]),(0,a.bF)(u,{items:n.items,onViewAntennas:n.listAntennas,onDeleteItem:n.deleteItems,onEditItem:n.openEditForm,onDeleteMassive:n.deleteMassive,onUpdateMassive:n.handleUpdateMassive,onImportExcel:n.openImportModal},null,8,["items","onViewAntennas","onDeleteItem","onEditItem","onDeleteMassive","onUpdateMassive","onImportExcel"]),n.isCreateFormVisible?((0,a.uX)(),(0,a.Wv)(m,{key:0,onClose:n.closeCreateForm,onItemCreate:n.submitItems},null,8,["onClose","onItemCreate"])):(0,a.Q3)("",!0),n.isEditFormVisible?((0,a.uX)(),(0,a.Wv)(f,{key:1,item:n.selectedItem,onClose:n.closeEditForm,onUpdateItem:n.updateItems},null,8,["item","onClose","onUpdateItem"])):(0,a.Q3)("",!0),n.showUpdateModal?((0,a.uX)(),(0,a.Wv)(p,{key:2,ids:n.selectedIds,onClose:t[1]||(t[1]=e=>n.showUpdateModal=!1),onConfirmUpdate:n.UpdateMassive},null,8,["ids","onConfirmUpdate"])):(0,a.Q3)("",!0),n.isImportModalVisible?((0,a.uX)(),(0,a.Wv)(b,{key:3,tagId:n.tagId,onClose:n.closeImportModal,onConfirmImport:n.submitItemsMasive},null,8,["tagId","onClose","onConfirmImport"])):(0,a.Q3)("",!0)]),n.isLoading?((0,a.uX)(),(0,a.CE)("div",i,t[2]||(t[2]=[(0,a.Lk)("div",{class:"flex flex-col items-center space-y-4"},[(0,a.Lk)("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"}),(0,a.Lk)("p",{class:"text-white text-lg font-semibold"},"Cargando, por favor espera...")],-1)]))):(0,a.Q3)("",!0)],64)}var d=o(144),c=o(1387),u=o(1385),m=o(5130);const f={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-[9990]"},p={class:"bg-white rounded-lg shadow-lg max-w-lg w-full p-6 max-h-[80vh] overflow-y-auto"},b={class:"text-2xl font-semibold text-gray-800 text-center mb-6"},x={class:"mb-4"},g={class:"mb-4"},y={class:"mb-4"},v={class:"flex space-x-4 mb-4"},k={class:"flex-1"},h={class:"flex-1"},I={class:"mb-4"},L={class:"flex space-x-4 mb-4"},w={class:"flex-1"},C={class:"flex-1"},E={class:"mb-4"},A={class:"flex justify-end space-x-3"};function M(e,t,o,l,s,i){const n=(0,a.g2)("spam");return l.item?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("div",p,[(0,a.Lk)("h2",b,"Crear "+(0,r.v_)(l.nameTags),1),(0,a.Lk)("form",{onSubmit:t[12]||(t[12]=(0,m.D$)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,a.Lk)("div",x,[t[13]||(t[13]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.form.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500",required:""},null,512),[[m.Jo,l.form.name]])]),(0,a.Lk)("div",g,[t[14]||(t[14]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Identificador",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.form.identifier=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500",required:""},null,512),[[m.Jo,l.form.identifier]])]),(0,a.Lk)("div",y,[t[15]||(t[15]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"MAC",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.form.mac=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500",required:""},null,512),[[m.Jo,l.form.mac]])]),(0,a.bF)(n,{class:"block text-sm font-bold text-gray-500 mb-1"},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)("Datos del primer apoderado:")]))),_:1}),(0,a.Lk)("div",v,[(0,a.Lk)("div",k,[t[17]||(t[17]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.form.proxyName=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500",required:""},null,512),[[m.Jo,l.form.proxyName]])]),(0,a.Lk)("div",h,[t[18]||(t[18]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Teléfono",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>l.form.proxyPhone=e),onInput:t[5]||(t[5]=e=>l.form.proxyPhone=l.form.proxyPhone.toString().slice(0,9)),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500",required:""},null,544),[[m.Jo,l.form.proxyPhone]])])]),(0,a.Lk)("div",I,[t[19]||(t[19]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Correo",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[6]||(t[6]=e=>l.form.proxyEmail=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500",required:""},null,512),[[m.Jo,l.form.proxyEmail]])]),(0,a.bF)(n,{class:"block text-sm font-bold text-gray-500 mb-1"},{default:(0,a.k6)((()=>t[20]||(t[20]=[(0,a.eW)("Datos del segundo apoderado:")]))),_:1}),(0,a.Lk)("div",L,[(0,a.Lk)("div",w,[t[21]||(t[21]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>l.form.proxyName2=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500"},null,512),[[m.Jo,l.form.proxyName2]])]),(0,a.Lk)("div",C,[t[22]||(t[22]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Teléfono",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=e=>l.form.proxyPhone2=e),onInput:t[9]||(t[9]=e=>l.form.proxyPhone2=l.form.proxyPhone2.toString().slice(0,9)),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500"},null,544),[[m.Jo,l.form.proxyPhone2]])])]),(0,a.Lk)("div",E,[t[23]||(t[23]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Correo",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[10]||(t[10]=e=>l.form.proxyEmail2=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-#497fae-500"},null,512),[[m.Jo,l.form.proxyEmail2]])]),(0,a.Lk)("div",A,[(0,a.Lk)("button",{type:"button",onClick:t[11]||(t[11]=(...e)=>l.closeDialog&&l.closeDialog(...e)),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),t[24]||(t[24]=(0,a.Lk)("button",{type:"submit",class:"px-4 py-2 bg-[#396895] text-white rounded-lg hover:bg-[#396895]"}," Guardar ",-1))])],32)])])):(0,a.Q3)("",!0)}var U=o(5129),F={emits:["close","ItemCreate"],setup(e,{emit:t}){const o=U.A.getters.getItemName("Items Moviles"),a=(0,d.KR)(!0),r=(0,d.KR)(!1),l=(0,d.KR)(["fa-solid fa-user","fa-solid fa-user-tie","fa-solid fa-user-nurse","fa-solid fa-user-graduate","fa-solid fa-car","fa-solid fa-bicycle","fa-solid fa-truck","fa-solid fa-bus","fa-solid fa-heart","fa-solid fa-house","fa-solid fa-flag","fa-solid fa-book","fa-solid fa-vial-virus","fa-solid fa-microscope","fa-solid fa-flask-vial","fa-solid fa-vial"]),s=(0,d.KR)({name:"",icon:"",color:"#0563b6",mac:"",proxyName:"",proxyEmail:"",proxyPhone:"",proxyName2:"",proxyEmail2:"",proxyPhone2:"",identifier:""}),i=()=>{r.value=!r.value},n=e=>{s.value.icon=e,r.value=!1},c=()=>{t("close")},u=()=>{t("ItemCreate",s.value)};return{item:a,form:s,icons:l,nameTags:o,isDropdownOpen:r,toggleDropdown:i,selectIcon:n,closeDialog:c,submitForm:u}}},K=o(1241);const V=(0,K.A)(F,[["render",M]]);var D=V;const B={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-[9990]"},_={class:"bg-white rounded-lg shadow-lg max-w-lg w-full p-6 max-h-[80vh] overflow-y-auto"},R={class:"text-lg font-semibold text-gray-700 mb-4 text-center"},T={class:"mb-4"},N={class:"mb-4"},S={class:"mb-4"},P={class:"flex space-x-4 mb-4"},q={class:"flex-1"},z={class:"flex-1"},J={class:"mb-4"},X={class:"flex space-x-4 mb-4"},W={class:"flex-1"},j={class:"flex-1"},$={class:"mb-4"},O={class:"flex justify-end space-x-2"};function Q(e,t,o,l,s,i){const n=(0,a.g2)("spam");return o.item?((0,a.uX)(),(0,a.CE)("div",B,[(0,a.Lk)("div",_,[(0,a.Lk)("h2",R,"Editar "+(0,r.v_)(l.nameTag),1),(0,a.Lk)("form",{onSubmit:t[12]||(t[12]=(0,m.D$)(((...e)=>l.submitUpdate&&l.submitUpdate(...e)),["prevent"]))},[(0,a.Lk)("div",T,[t[13]||(t[13]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.editedItem.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[m.Jo,l.editedItem.name]])]),(0,a.Lk)("div",N,[t[14]||(t[14]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Identificador",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.editedItem.identifier=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500"},null,512),[[m.Jo,l.editedItem.identifier]])]),(0,a.Lk)("div",S,[t[15]||(t[15]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"MAC",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.editedItem.mac=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[m.Jo,l.editedItem.mac]])]),(0,a.bF)(n,{class:"block text-sm font-bold text-gray-500 mb-1"},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)("Datos del Primer apoderado:")]))),_:1}),(0,a.Lk)("div",P,[(0,a.Lk)("div",q,[t[17]||(t[17]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.editedItem.proxyName=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500"},null,512),[[m.Jo,l.editedItem.proxyName]])]),(0,a.Lk)("div",z,[t[18]||(t[18]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Teléfono",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>l.editedItem.proxyPhone=e),onInput:t[5]||(t[5]=e=>l.editedItem.proxyPhone=l.editedItem.proxyPhone.toString().slice(0,9)),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500"},null,544),[[m.Jo,l.editedItem.proxyPhone]])])]),(0,a.Lk)("div",J,[t[19]||(t[19]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Correo",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[6]||(t[6]=e=>l.editedItem.proxyEmail=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500"},null,512),[[m.Jo,l.editedItem.proxyEmail]])]),(0,a.bF)(n,{class:"block text-sm font-bold text-gray-500 mb-1"},{default:(0,a.k6)((()=>t[20]||(t[20]=[(0,a.eW)("Datos del segundo apoderado:")]))),_:1}),(0,a.Lk)("div",X,[(0,a.Lk)("div",W,[t[21]||(t[21]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>l.editedItem.proxyName2=e),onInput:t[8]||(t[8]=e=>l.editedItem.proxyName2=l.editedItem.proxyName2.toString().slice(0,9)),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500"},null,544),[[m.Jo,l.editedItem.proxyName2]])]),(0,a.Lk)("div",j,[t[22]||(t[22]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Teléfono",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=e=>l.editedItem.proxyPhone2=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500"},null,512),[[m.Jo,l.editedItem.proxyPhone2]])])]),(0,a.Lk)("div",$,[t[23]||(t[23]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Correo",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[10]||(t[10]=e=>l.editedItem.proxyEmail2=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500"},null,512),[[m.Jo,l.editedItem.proxyEmail2]])]),(0,a.Lk)("div",O,[(0,a.Lk)("button",{type:"button",onClick:t[11]||(t[11]=t=>e.$emit("close")),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),t[24]||(t[24]=(0,a.Lk)("button",{type:"submit",class:"px-4 py-2 bg-[#396895] text-white rounded-lg hover:bg-[#396895]"}," Guardar Cambios ",-1))])],32)])])):(0,a.Q3)("",!0)}var G=o(650),H={props:{item:{type:Object,required:!0}},emits:["close","updateItem"],setup(e,{emit:t}){const o=U.A.getters.getItemName("Items Moviles"),r=(0,d.KR)({...e.item}),l=(0,d.KR)([]),s=(0,d.KR)(!1),i=(0,d.KR)(["fa-solid fa-user","fa-solid fa-user-tie","fa-solid fa-user-nurse","fa-solid fa-user-graduate","fa-solid fa-car","fa-solid fa-bicycle","fa-solid fa-truck","fa-solid fa-ship","fa-solid fa-plane","fa-solid fa-train","fa-solid fa-bus","fa-solid fa-heart","fa-solid fa-house","fa-solid fa-flag","fa-solid fa-tree","fa-solid fa-book","fa-solid fa-vial-virus","fa-solid fa-microscope","fa-solid fa-flask-vial","fa-solid fa-vial"]);(0,a.wB)((()=>e.item),(e=>{r.value={...e}}));const n=async()=>{try{const e=U.A.state.token,t=await(0,G.IE)(e);l.value=t.data.data}catch(e){console.error("Error al obtener layouts")}},c=()=>{s.value=!s.value},u=e=>{r.value.icon=e,s.value=!1},m=()=>{t("updateItem",r.value)};return(0,a.sV)((()=>{n()})),{editedItem:r,catags:l,isDropdownOpen:s,toggleDropdown:c,selectIcon:u,submitUpdate:m,icons:i,nameTag:o}}};const Y=(0,K.A)(H,[["render",Q]]);var Z=Y,ee=o(2729),te=o(4260),oe=o(9669),ae=o(2164),re=o(6498),le=o(7294),se=o(8249),ie=o(4750);const ne={class:"flex items-center space-x-4 mb-5"},de={class:"flex space-x-2"};function ce(e,t,o,l,s,i){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",ne,[(0,a.bF)(ie.W,{modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=e=>l.search=e),label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"",class:"flex-grow",density:"compact"},null,8,["modelValue"]),(0,a.bF)(se.q,null,{activator:(0,a.k6)((({props:e})=>[(0,a.Lk)("button",(0,a.v6)(e,{class:"flex items-center justify-center bg-[#497fae] text-white font-bold px-4 py-1 rounded-lg hover:bg-[#6999c2] shadow-md text-xl mdi mdi-format-list-bulleted"}),[(0,a.Lk)("span",null,(0,r.v_)(l.selectedEvent?.title||""),1)],16)])),default:(0,a.k6)((()=>[(0,a.bF)(ae.x8,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.events,(e=>((0,a.uX)(),(0,a.Wv)(re.g,{key:e.value,onClick:t=>l.handleEventSelection(e),class:"hover:bg-gray-100 cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(le.U,{class:(0,r.C4)(["flex items-center",{"text-red-600":"Eliminación Masiva"===e.value,"text-#497fae-600":"Actualización Masiva"===e.value,"text-#099cb4-600":"Importar Excel"===e.value}])},{default:(0,a.k6)((()=>[(0,a.bF)(oe.w,{class:(0,r.C4)([{"text-red-600":"Eliminación Masiva"===e.value,"text-#497fae-600":"Actualización Masiva"===e.value,"text-#099cb4-600":"Importar Excel"===e.value},"mr-2"])},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.icon),1)])),_:2},1032,["class"]),(0,a.eW)(" "+(0,r.v_)(e.title),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})]),(0,a.bF)(ee.J,{flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(te.Py,{headers:l.headers,items:l.indexedItems,search:l.search,"show-select":"",modelValue:l.selectedItems,"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedItems=e),"item-value":"_id",density:"compact",class:"ma-2"},{["item.actions"]:(0,a.k6)((({item:e})=>[(0,a.Lk)("div",de,[(0,a.bF)(oe.w,{small:"",color:"#099cb4",class:"hover:bg-#099cb4-100 rounded-full p-1 transition-colors",onClick:t=>l.editItem(e)},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)(" mdi-pencil ")]))),_:2},1032,["onClick"]),(0,a.bF)(oe.w,{small:"",color:"red",class:"hover:bg-red-100 rounded-full p-1 transition-colors",onClick:t=>l.deleteItem(e)},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)(" mdi-delete ")]))),_:2},1032,["onClick"])])])),["item.icon"]:(0,a.k6)((({item:e})=>[(0,a.bF)(oe.w,{class:(0,r.C4)([e.icon,"mdi-account"])},null,8,["class"])])),["item.color"]:(0,a.k6)((({item:e})=>[(0,a.Lk)("div",{style:(0,r.Tr)({backgroundColor:e.color,width:"24px",height:"24px",borderRadius:"50%"})},null,4)])),_:2},1032,["headers","items","search","modelValue"])])),_:1})],64)}o(1454);var ue=o(4874),me=o.n(ue),fe={name:"DataTable",props:{items:{type:Array,required:!0}},emits:["deleteItem","editItem","deleteMassive","updateMassive","importExcel"],setup(e,{emit:t}){const o=(0,d.KR)(""),r=(0,d.KR)([]),l=(0,d.KR)(null),s=(0,d.KR)([{title:"Eliminación Masiva",value:"Eliminación Masiva",icon:"mdi-delete"},{title:"Actualización Masiva",value:"Actualización Masiva",icon:"mdi-pencil"},{title:"Importar Excel",value:"Importar Excel",icon:"mdi-file-excel"}]),i=(0,d.KR)([{key:"id",title:"ID"},{key:"identifier",title:"Indetificador"},{key:"name",title:"Nombre"},{key:"mac",title:"MAC"},{key:"actions",title:"Acciones",sortable:!1}]),n=(0,a.EW)((()=>e.items.map(((e,t)=>({id:t+1,...e}))))),c=e=>{"Importar Excel"!==e.value?0!==r.value.length?("Eliminación Masiva"===e.value?t("deleteMassive",r.value):"Actualización Masiva"===e.value&&t("updateMassive",r.value),l.value=null,r.value=[]):me().fire({icon:"warning",title:"No se seleccionaron filas",text:"Por favor selecciona al menos una fila antes de realizar esta acción."}):t("importExcel")},u=e=>{t("deleteItem",e)},m=e=>{t("editItem",e)};return{search:o,selectedItems:r,selectedEvent:l,events:s,headers:i,indexedItems:n,handleEventSelection:c,deleteItem:u,editItem:m}}};const pe=(0,K.A)(fe,[["render",ce]]);var be=pe;const xe={class:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-[9999]"},ge={class:"bg-white rounded-lg shadow-lg w-96"},ye={class:"px-6 py-4"},ve={class:"mt-4"},ke={for:"antenna-select",class:"block text-sm font-medium text-gray-500 mb-1"},he=["value"],Ie={class:"flex justify-end px-6 py-4 border-t border-gray-200"},Le=["disabled"];function we(e,t,o,l,s,i){return(0,a.uX)(),(0,a.CE)("div",xe,[(0,a.Lk)("div",ge,[t[3]||(t[3]=(0,a.Lk)("div",{class:"px-6 py-4 border-b border-gray-200"},[(0,a.Lk)("h2",{class:"text-lg font-bold text-gray-700"},"Actualización Masiva")],-1)),(0,a.Lk)("div",ye,[(0,a.Lk)("div",ve,[(0,a.Lk)("label",ke," Seleccionar categoría de "+(0,r.v_)(l.nameTag),1),(0,a.bo)((0,a.Lk)("select",{id:"antenna-select","onUpdate:modelValue":t[0]||(t[0]=e=>l.form.typeId=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-#497fae-500 focus:border-#497fae-500 block w-full p-2.5"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cantennas,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e._id,value:e._id},(0,r.v_)(e.name),9,he)))),128))],512),[[m.u1,l.form.typeId]])])]),(0,a.Lk)("div",Ie,[(0,a.Lk)("button",{class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg mr-2 hover:bg-gray-300",onClick:t[1]||(t[1]=(...e)=>l.close&&l.close(...e))}," Cerrar "),(0,a.Lk)("button",{class:"bg-[#396895] text-white px-4 py-2 rounded-lg hover:bg-[#6999c2]",disabled:!l.form.typeId||0===o.ids.length,onClick:t[2]||(t[2]=(...e)=>l.confirmUpdate&&l.confirmUpdate(...e))}," Confirmar ",8,Le)])])])}var Ce={name:"MassiveUpdateModal",props:{ids:{type:Array,required:!0}},emits:["close","confirmUpdate"],setup(e,{emit:t}){const o=U.A.getters.getItemName("Items Moviles"),r=(0,d.KR)({typeId:""}),l=(0,d.KR)([]),s=async()=>{try{const e=U.A.state.token,t=await(0,G.IE)(e);t&&(l.value=t.data.data)}catch(e){console.error("Error al listar categoría de antenas:",e)}},i=()=>{t("close")},n=()=>{if(!r.value.typeId)return void console.error("Debe seleccionar una categoría de antena.");const o={ids:e.ids,typeId:r.value.typeId};console.log("Actualización confirmada con:",o),t("confirmUpdate",o),i()};return(0,a.sV)((()=>{s()})),{form:r,cantennas:l,close:i,confirmUpdate:n,nameTag:o}}};const Ee=(0,K.A)(Ce,[["render",we],["__scopeId","data-v-65e5881f"]]);var Ae=Ee;const Me={class:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-[99990]"},Ue={class:"bg-white rounded-lg p-6 shadow-lg w-96"},Fe={class:"mt-4"},Ke={class:"mb-4 mt-4"},Ve={key:0,class:"flex items-center"},De={key:1,class:"grid grid-cols-6 gap-2 mt-2"},Be=["onClick"],_e={class:"flex justify-end space-x-4 mt-6"},Re=["disabled"];function Te(e,t,o,l,s,i){return(0,a.uX)(),(0,a.CE)("div",Me,[(0,a.Lk)("div",Ue,[t[7]||(t[7]=(0,a.Lk)("h2",{class:"text-lg font-semibold text-gray-700 mb-4"},"Importar Excel",-1)),t[8]||(t[8]=(0,a.Lk)("p",{class:"text-gray-600 mb-6"},"Selecciona un archivo Excel para cargar los datos.",-1)),(0,a.Lk)("input",{type:"file",accept:".xls,.xlsx",onChange:t[0]||(t[0]=(...e)=>l.handleFileUpload&&l.handleFileUpload(...e)),class:"block w-full border border-gray-300 rounded-lg px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-#497fae-400 focus:border-#497fae-400"},null,32),(0,a.Lk)("div",Fe,[t[5]||(t[5]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Color",-1)),(0,a.bo)((0,a.Lk)("input",{type:"color","onUpdate:modelValue":t[1]||(t[1]=e=>l.color=e),class:"w-full border-4 border-gray-300 rounded-lg py-10 text-lg focus:outline-none"},null,512),[[m.Jo,l.color]])]),(0,a.Lk)("div",Ke,[t[6]||(t[6]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Seleccionar un ícono",-1)),(0,a.Lk)("div",{class:(0,r.C4)(["border border-gray-300 rounded-lg px-3 py-2 transition-all duration-300",{"h-auto py-4":l.isDropdownOpen,"h-12":!l.isDropdownOpen}]),onClick:t[2]||(t[2]=(...e)=>l.toggleDropdown&&l.toggleDropdown(...e))},[l.isDropdownOpen?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Ve,[(0,a.Lk)("i",{class:(0,r.C4)([l.icon,"text-2xl ml-2"])},null,2)])),l.isDropdownOpen?((0,a.uX)(),(0,a.CE)("div",De,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.icons,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:(0,r.C4)(["cursor-pointer hover:bg-gray-100 flex justify-center items-center rounded-lg p-2",{"bg-#497fae-100 text-#497fae-500":l.icon===e}]),onClick:(0,m.D$)((t=>l.selectIcon(e)),["stop"])},[(0,a.Lk)("i",{class:(0,r.C4)([e,"text-2xl"])},null,2)],10,Be)))),128))])):(0,a.Q3)("",!0)],2)]),(0,a.Lk)("div",_e,[(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>l.emitClose&&l.emitClose(...e)),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"}," Cancelar "),(0,a.Lk)("button",{disabled:!l.file,onClick:t[4]||(t[4]=(...e)=>l.processAndEmitData&&l.processAndEmitData(...e)),class:"px-4 py-2 bg-[#396895] text-white rounded hover:bg-[#396895] disabled:opacity-50 disabled:cursor-not-allowed"}," Importar ",8,Re)])])])}var Ne=o(3230),Se={name:"ImportModal",props:{tagId:{type:String,required:!0}},emits:["close","confirmImport"],setup(e,{emit:t}){const o=(0,d.KR)(null),a=(0,d.KR)("#9C27B0"),r=(0,d.KR)("fa-solid fa-user"),l=(0,d.KR)(!1),s=(0,d.KR)([]),i=(0,d.KR)(["fa-solid fa-user","fa-solid fa-star","fa-solid fa-heart","fa-solid fa-car","fa-solid fa-home","fa-solid fa-bell"]),n=e=>{const t=e.target.files[0];t&&(o.value=t)},c=()=>{l.value=!l.value},u=e=>{r.value=e,l.value=!1},m=()=>{if(!o.value)return;const l=new FileReader;l.onload=o=>{const l=o.target.result,i=Ne.LF(l,{type:"binary"}),n=i.SheetNames[0],d=i.Sheets[n],c=Ne.Wp.sheet_to_json(d);s.value=c.map((t=>({mac:t.map((e=>e.mac)),name:t.name,proxyName:t.proxyName,proxyPhone:t.proxyPhone,proxyEmail:t.proxyEmail,identifier:t.identifier,color:a.value,icon:r.value,typeId:e.tagId}))),console.log("Datos a emitir:",s.value),t("confirmImport",s.value)},l.readAsBinaryString(o.value)},f=()=>{t("close")};return{file:o,color:a,icon:r,icons:i,isDropdownOpen:l,handleFileUpload:n,toggleDropdown:c,selectIcon:u,processAndEmitData:m,emitClose:f}}};const Pe=(0,K.A)(Se,[["render",Te]]);var qe=Pe,ze={props:{id:{type:String,default:null}},components:{DataTable:be,createForm:D,EditForm:Z,EditCategory:Ae,ImportModal:qe},setup(e){const t=U.A.getters.getItemName("Items Moviles"),o=(0,c.lq)(),r=(0,d.KR)(e.id||o.params.id),l=(0,d.KR)([]),s=(0,d.KR)(null),i=(0,d.KR)(null),n=(0,d.KR)(!1),m=(0,d.KR)(!1),f=(0,d.KR)(!1),p=(0,d.KR)(!1),b=(0,d.KR)(!1),x=(0,d.KR)([]),g=(0,d.KR)(!1),y=()=>{g.value=!0},v=()=>{g.value=!1},k=()=>{f.value=!0},h=()=>{f.value=!1},I=()=>{n.value=!0},L=()=>{n.value=!1},w=e=>{s.value=e,m.value=!0},C=()=>{m.value=!1,s.value=null},E=e=>{i.value={...e},p.value=!0},A=()=>{p.value=!1},M=e=>{x.value=e,b.value=!0},F=async e=>{I();try{const t=U.A.state.token;await(0,u.EM)(t,e),L(),await R(),me().fire({title:"Éxito",text:"Se actualizó correctamente.",icon:"success",confirmButtonText:"Aceptar"})}catch(t){L();const e=t.response?.data?.message||t.response?.data||"Error al realizar la actualización masiva.";me().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},K=async e=>{I();try{const t=U.A.state.token,o=e._id;await(0,u.W6)(t,e,o),A(),L(),await R(),me().fire({title:"Éxito",text:"Se actualizó correctamente.",icon:"success",confirmButtonText:"Aceptar"})}catch(t){L();const e=t.response?.data?.message||t.response?.data||"Error al actualizar.";me().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},V=async e=>{const t=[{name:e.name,typeId:r.value,mac:e.mac,proxyName:e.proxyName,proxyEmail:e.proxyEmail,proxyPhone:e.proxyPhone,proxyName2:e.proxyName2,proxyEmail2:e.proxyEmail2,proxyPhone2:e.proxyPhone2,identifier:e.identifier}];try{const e=U.A.state.token;await(0,u.tS)(e,t),await R(),h(),me().fire({title:"Éxito",text:"Se creó correctamente.",icon:"success",confirmButtonText:"Aceptar"})}catch(o){h();const e=o.response?.data?.message||o.response?.data||"Error al crear la etiqueta.";me().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},D=async e=>{I();try{const t=U.A.state.token;await(0,u.tS)(t,e),await R(),v(),L(),me().fire({title:"Éxito",text:"Se creó correctamente.",icon:"success",confirmButtonText:"Aceptar"})}catch(t){v(),L();const e=t.response?.data?.message||t.response?.data||"Error al crear la etiqueta.";me().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},B=async e=>{const t=await me().fire({title:"¿Estás seguro?",text:"No podrás revertir esto.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f7a304",cancelButtonColor:"#deddda",cancelButtonText:"Cancelar",confirmButtonText:"Sí, eliminar",reverseButtons:!0});if(t.isConfirmed){I();try{const t=U.A.state.token,o={ids:[e._id]};await(0,u.I4)(t,o),L(),await R(),me().fire({title:"Éxito",text:"Se eliminó correctamente.",icon:"success",confirmButtonText:"Aceptar"})}catch(o){L();const e=o.response?.data?.message||o.response?.data||"Error al eliminar la etiqueta.";me().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}}},_=async e=>{const t=await me().fire({title:"¿Estás seguro?",text:"Esta acción eliminara multiples etiquetas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f7a304",cancelButtonColor:"#deddda",cancelButtonText:"Cancelar",confirmButtonText:"Sí, eliminar",reverseButtons:!0});if(t.isConfirmed){I();try{const t={ids:e},o=U.A.state.token;await(0,u.K_)(o,t),L(),await R(),me().fire({title:"Éxito",text:"Se eliminaron las etiquetas correctamente.",icon:"success",confirmButtonText:"Aceptar"})}catch(o){L();const e=o.response?.data?.message||o.response?.data||"Error al eliminar las etiquetas.";me().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}}},R=async()=>{I();try{const e=U.A.state.token,t=await(0,u.qS)(e,r.value);l.value=t.data.data,L()}catch(e){L();const t=e.response?.data?.message||e.response?.data||"Error al obtener las etiquetas.";me().fire({title:"Error",text:t,icon:"error",confirmButtonText:"Aceptar"})}};return(0,a.wB)((()=>o.params.id),(e=>{e?(r.value=e,R()):console.warn("El ID de etiqueta es nulo.")})),(0,a.sV)(R),{items:l,fetchItems:R,openLoading:I,closeLoading:L,isLoading:n,listAntennas:w,closeAntennaModal:C,deleteItems:B,isCreateFormVisible:f,openCreateForm:k,closeCreateForm:h,submitItems:V,updateItems:K,openEditForm:E,closeEditForm:A,isEditFormVisible:p,selectedItem:i,isAntennasModalVisible:m,selectedAntennas:s,deleteMassive:_,showUpdateModal:b,selectedIds:x,handleUpdateMassive:M,UpdateMassive:F,tagId:r,isImportModalVisible:g,openImportModal:y,closeImportModal:v,submitItemsMasive:D,nameTag:t}}};const Je=(0,K.A)(ze,[["render",n]]);var Xe=Je}}]);
//# sourceMappingURL=631.61966c13.js.map