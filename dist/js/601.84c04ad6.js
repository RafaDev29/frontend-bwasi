"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[601],{9980:function(e,t,a){a.d(t,{$x:function(){return n},F7:function(){return u},Qt:function(){return s},ZL:function(){return l},ZZ:function(){return i}});var o=a(1189);const r="https://api.bwasi.maquiadev.com/api/v1";function l(e){return o.A.get(`${r}/areas`,{headers:{Authorization:`Bearer ${e}`}})}function n(e,t){return o.A.delete(`${r}/areas/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return o.A.post(`${r}/areas`,t,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t,a){return o.A.patch(`${r}/areas/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}function u(e,t,a){return o.A.patch(`${r}/areas/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},650:function(e,t,a){a.d(t,{Be:function(){return i},IE:function(){return l},W7:function(){return s},jO:function(){return n}});var o=a(1189);const r="https://api.bwasi.maquiadev.com/api/v1";function l(e){return o.A.get(`${r}/type-mobileitems`,{headers:{Authorization:`Bearer ${e}`}})}function n(e,t){return o.A.delete(`${r}/type-mobileitems/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return o.A.post(`${r}/type-mobileitems`,t,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t,a){return o.A.patch(`${r}/type-mobileitems/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},9509:function(e,t,a){a.d(t,{IO:function(){return u},a$:function(){return i},bN:function(){return l},hO:function(){return s},uq:function(){return n}});var o=a(1189);const r="https://api.bwasi.maquiadev.com/api/v1";function l(e){return o.A.get(`${r}/layouts`,{headers:{Authorization:`Bearer ${e}`}})}function n(e,t){return o.A.delete(`${r}/layouts/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return o.A.post(`${r}/layouts`,t,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t,a){return o.A.patch(`${r}/layouts/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}function u(e,t,a){return o.A.post(`${r}/layouts/updatebackgroundImage/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},5601:function(e,t,a){a.r(t),a.d(t,{default:function(){return Be}});var o=a(6768),r=a(4232);const l={class:"flex justify-between items-center"},n={class:"font-bold lg:text-2xl text-xl text-gray-500 mb-5"},s={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 z-[9999]"};function i(e,t,a,i,u,c){const d=(0,o.g2)("DataTable"),m=(0,o.g2)("AntennasModal"),f=(0,o.g2)("createForm"),b=(0,o.g2)("EditForm");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.Lk)("div",l,[(0,o.Lk)("h1",n,(0,r.v_)(i.nameArea),1),(0,o.Lk)("button",{class:"flex items-center justify-center bg-[#396895] text-white font-bold px-4 py-1 rounded-lg hover:bg-[#6999c2] shadow-md mdi mdi-plus text-xl",onClick:t[0]||(t[0]=(...e)=>i.openCreateForm&&i.openCreateForm(...e))})]),(0,o.bF)(d,{items:i.items,onViewAntennas:i.listAntennas,onDeleteItem:i.deleteItems,onEditItem:i.openEditForm},null,8,["items","onViewAntennas","onDeleteItem","onEditItem"]),i.isAntennasModalVisible?((0,o.uX)(),(0,o.Wv)(m,{key:0,antennas:i.selectedAntennas,onClose:i.closeAntennaModal,isVisible:i.isAntennasModalVisible},null,8,["antennas","onClose","isVisible"])):(0,o.Q3)("",!0),i.isCreateFormVisible?((0,o.uX)(),(0,o.Wv)(f,{key:1,onClose:i.closeCreateForm,onItemCreate:i.submitItems},null,8,["onClose","onItemCreate"])):(0,o.Q3)("",!0),i.isEditFormVisible?((0,o.uX)(),(0,o.Wv)(b,{key:2,item:i.selectedItem,onClose:i.closeEditForm,onUpdateItem:i.updateItems},null,8,["item","onClose","onUpdateItem"])):(0,o.Q3)("",!0)]),i.isLoading?((0,o.uX)(),(0,o.CE)("div",s,t[1]||(t[1]=[(0,o.Lk)("div",{class:"flex flex-col items-center space-y-4"},[(0,o.Lk)("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"}),(0,o.Lk)("p",{class:"text-white text-lg font-semibold"},"Cargando, por favor espera...")],-1)]))):(0,o.Q3)("",!0)],64)}var u=a(144),c=a(9980);const d={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-[9999]"},m={class:"overflow-y-auto bg-white rounded-lg shadow-lg max-w-md w-full p-0",style:{"max-height":"80vh","margin-bottom":"1rem"}},f={class:"flex justify-between items-center p-2 border-b bg-[#396895] text-white rounded-t-lg"},b={class:"text-xl flex items-center"},p={class:"p-4"},g={class:"divide-y divide-gray-300"},y={class:"flex-1"},k={class:"font-semibold text-gray-800"},v={class:"flex justify-end p-4 border-t bg-gray-100 rounded-b-lg"};function x(e,t,a,l,n,s){return a.isVisible?((0,o.uX)(),(0,o.CE)("div",d,[(0,o.Lk)("div",m,[(0,o.Lk)("div",f,[(0,o.Lk)("h1",b,[t[1]||(t[1]=(0,o.Lk)("i",{class:"mdi mdi-access-point text-white text-3xl ml-2"},null,-1)),(0,o.eW)(" "+(0,r.v_)(l.nameAntena),1)])]),(0,o.Lk)("div",p,[(0,o.Lk)("ul",g,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.antennas,((e,a)=>((0,o.uX)(),(0,o.CE)("li",{key:a,class:"py-4 flex items-center space-x-4"},[(0,o.Lk)("div",y,[(0,o.Lk)("p",k,(0,r.v_)(e.mac),1)]),t[2]||(t[2]=(0,o.Lk)("i",{class:"mdi mdi-information-outline text-gray-400 hover:text-gray-600 text-xl cursor-pointer transition"},null,-1))])))),128))])]),(0,o.Lk)("div",v,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.closeModal&&l.closeModal(...e)),class:"px-4 py-2 text-sm font-medium text-white bg-[#396895] rounded-lg hover:bg-[#396895] transition"}," Cerrar ")])])])):(0,o.Q3)("",!0)}var h=a(5129),A={name:"ViewAreas",props:{antennas:{type:Array,required:!0},isVisible:{type:Boolean,required:!0}},emits:["close"],setup(e,{emit:t}){const a=h.A.getters.getItemName("Puntos de área"),o=async()=>{t("close")};return{closeModal:o,nameAntena:a}}},L=a(1241);const I=(0,L.A)(A,[["render",x],["__scopeId","data-v-8953a038"]]);var w=I,C=a(5130);const E={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-[9999]"},_={class:"bg-white rounded-lg shadow-lg max-w-md w-full p-6"},$={class:"text-xl font-semibold text-gray-700 mb-4 text-center"},F={class:"mb-4"},V={class:"mb-4"},B={for:"countries",class:"block text-sm font-medium text-gray-500 mb-1"},K=["value"],T={class:"mb-4 max-h-[10vh] overflow-y-auto"},M={class:"mb-2"},X=["checked"],z={class:"grid grid-cols-2 gap-2",style:{"max-height":"200px"}},S=["id","value"],N=["for"],U={class:"mb-4"},R={class:"mb-4"},W=["value"],q={class:"mb-4"},j={class:"flex justify-end space-x-2"};function D(e,t,a,l,n,s){return l.item?((0,o.uX)(),(0,o.CE)("div",E,[(0,o.Lk)("div",_,[(0,o.Lk)("h2",$,"Nuevo "+(0,r.v_)(l.nameArea),1),(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,C.D$)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",F,[t[9]||(t[9]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.form.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[C.Jo,l.form.name]])]),(0,o.Lk)("div",V,[(0,o.Lk)("label",B," Seleccionar "+(0,r.v_)(l.nameLayout),1),(0,o.bo)((0,o.Lk)("select",{id:"countries","onUpdate:modelValue":t[1]||(t[1]=e=>l.form.layoutId=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-#497fae-500 focus:border-#497fae-500 block w-full p-2.5"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.layouts,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e._id,value:e._id},(0,r.v_)(e.name),9,K)))),128))],512),[[C.u1,l.form.layoutId]])]),t[15]||(t[15]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Seleccionar Categorías",-1)),(0,o.Lk)("div",T,[(0,o.Lk)("div",M,[(0,o.Lk)("input",{type:"checkbox",id:"selectAll",onChange:t[2]||(t[2]=(...e)=>l.toggleSelectAll&&l.toggleSelectAll(...e)),checked:l.isAllSelected},null,40,X),t[10]||(t[10]=(0,o.Lk)("label",{for:"selectAll",class:"ml-2 text-sm text-gray-600"},"Seleccionar Todos",-1))]),(0,o.Lk)("div",z,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.ctangs,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e._id,class:"flex items-center"},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:e._id,value:e._id,"onUpdate:modelValue":t[3]||(t[3]=e=>l.form.aforo.typeItemMobiles=e)},null,8,S),[[C.lH,l.form.aforo.typeItemMobiles]]),(0,o.Lk)("label",{for:e._id,class:"ml-2 text-sm text-gray-600"},(0,r.v_)(e.name),9,N)])))),128))])]),(0,o.Lk)("div",U,[t[11]||(t[11]=(0,o.Lk)("label",{for:"amount",class:"block text-sm font-medium text-gray-500 mb-1"},"Aforo",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"amount","onUpdate:modelValue":t[4]||(t[4]=e=>l.form.aforo.amount=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[C.Jo,l.form.aforo.amount]])]),(0,o.Lk)("div",R,[t[12]||(t[12]=(0,o.Lk)("label",{for:"amount",class:"block text-sm font-medium text-gray-500 mb-1"},"Tiempo de permanencia",-1)),(0,o.bo)((0,o.Lk)("select",{id:"amount","onUpdate:modelValue":t[5]||(t[5]=e=>l.form.dwellTime=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-[#497fae] focus:border-[#497fae]",required:""},[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)([5,10,15,20,25,30],(e=>(0,o.Lk)("option",{key:e,value:e},(0,r.v_)(e)+" segundos ",9,W))),64))],512),[[C.u1,l.form.dwellTime]])]),(0,o.Lk)("div",q,[t[13]||(t[13]=(0,o.Lk)("label",{for:"color",class:"block text-sm font-medium text-gray-500 mb-1"},"Color",-1)),(0,o.bo)((0,o.Lk)("input",{type:"color",id:"color","onUpdate:modelValue":t[6]||(t[6]=e=>l.form.color=e),class:"w-full border border-gray-300 rounded-lg h-10 px-3 cursor-pointer focus:ring-2 focus:ring-[#497fae] focus:border-[#497fae]"},null,512),[[C.Jo,l.form.color]])]),(0,o.Lk)("div",j,[(0,o.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(...e)=>l.closeDialog&&l.closeDialog(...e)),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),t[14]||(t[14]=(0,o.Lk)("button",{type:"submit",class:"px-4 py-2 bg-[#396895] text-white rounded-lg hover:bg-[#396895]"}," Guardar ",-1))])],32)])])):(0,o.Q3)("",!0)}a(8992),a(3215),a(1454);var O=a(9509),Q=a(650),J={emits:["close","ItemCreate"],setup(e,{emit:t}){const a=h.A.getters.getItemName("Áreas"),r=h.A.getters.getItemName("Layouts"),l=(0,u.KR)(!0),n=(0,u.KR)([]),s=(0,u.KR)([]),i=(0,u.KR)({name:"",layoutId:"",aforo:{typeItemMobiles:[],amount:0},dwellTime:10,color:"#497fae"}),c=async()=>{const e=h.A.state.token,t=await(0,O.bN)(e);n.value=t.data.data},d=async()=>{const e=h.A.state.token,t=await(0,Q.IE)(e);s.value=t.data.data},m=()=>{t("close")},f=async()=>{t("ItemCreate",i.value)},b=(0,o.EW)((()=>s.value.every((e=>i.value.aforo.typeItemMobiles.includes(e._id))))),p=()=>{b.value?i.value.aforo.typeItemMobiles=[]:i.value.aforo.typeItemMobiles=s.value.map((e=>e._id))};return(0,o.sV)((()=>{c(),d()})),{item:l,form:i,closeDialog:m,submitForm:f,listLayout:c,layouts:n,nameArea:a,nameLayout:r,listCtags:d,ctangs:s,isAllSelected:b,toggleSelectAll:p}}};const Z=(0,L.A)(J,[["render",D]]);var P=Z;const G={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-[9999]"},H={class:"bg-white rounded-lg shadow-lg max-w-md w-full p-6"},Y={class:"text-lg font-semibold text-gray-700 mb-4 text-center"},ee={class:"mb-4"},te={class:"mb-4"},ae={for:"countries",class:"block text-sm font-medium text-gray-500 mb-1"},oe=["value"],re={class:"mb-4"},le={class:"mb-4 max-h-[10vh] overflow-y-auto"},ne={class:"mb-2"},se=["checked"],ie={class:"grid grid-cols-2 gap-2"},ue=["id","value"],ce=["for"],de={class:"mb-4"},me={class:"mb-4"},fe=["value"],be={class:"mb-4"},pe={class:"flex justify-end space-x-2"};function ge(e,t,a,l,n,s){return a.item?((0,o.uX)(),(0,o.CE)("div",G,[(0,o.Lk)("div",H,[(0,o.Lk)("h2",Y,"Editar "+(0,r.v_)(l.nameArea),1),(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,C.D$)(((...e)=>l.submitUpdate&&l.submitUpdate(...e)),["prevent"]))},[(0,o.Lk)("div",ee,[t[9]||(t[9]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.editedItem.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[C.Jo,l.editedItem.name]])]),(0,o.Lk)("div",te,[(0,o.Lk)("label",ae," Seleccionar "+(0,r.v_)(l.NameLayout),1),(0,o.bo)((0,o.Lk)("select",{id:"countries","onUpdate:modelValue":t[1]||(t[1]=e=>l.editedItem.layout._id=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-#497fae-500 focus:border-#497fae-500 block w-full p-2.5"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.layouts,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e._id,value:e._id},(0,r.v_)(e.name),9,oe)))),128))],512),[[C.u1,l.editedItem.layout._id]])]),(0,o.Lk)("div",re,[t[11]||(t[11]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Seleccionar Categorías",-1)),(0,o.Lk)("div",le,[(0,o.Lk)("div",ne,[(0,o.Lk)("input",{type:"checkbox",id:"selectAll",onChange:t[2]||(t[2]=(...e)=>l.toggleSelectAll&&l.toggleSelectAll(...e)),checked:l.isAllSelected},null,40,se),t[10]||(t[10]=(0,o.Lk)("label",{for:"selectAll",class:"ml-2 text-sm text-gray-600"},"Seleccionar Todos",-1))]),(0,o.Lk)("div",ie,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.ctangs,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e._id,class:"flex items-center"},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:e._id,value:e._id,"onUpdate:modelValue":t[3]||(t[3]=e=>l.editedItem.aforo.typeItemMobiles=e)},null,8,ue),[[C.lH,l.editedItem.aforo.typeItemMobiles]]),(0,o.Lk)("label",{for:e._id,class:"ml-2 text-sm text-gray-600"},(0,r.v_)(e.name),9,ce)])))),128))])])]),(0,o.Lk)("div",de,[t[12]||(t[12]=(0,o.Lk)("label",{for:"amount",class:"block text-sm font-medium text-gray-500 mb-1"},"Aforo",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"amount","onUpdate:modelValue":t[4]||(t[4]=e=>l.editedItem.aforo.amount=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[C.Jo,l.editedItem.aforo.amount]])]),(0,o.Lk)("div",me,[t[13]||(t[13]=(0,o.Lk)("label",{for:"amount",class:"block text-sm font-medium text-gray-500 mb-1"},"Tiempo de permanencia",-1)),(0,o.bo)((0,o.Lk)("select",{id:"amount","onUpdate:modelValue":t[5]||(t[5]=e=>l.editedItem.dwellTime=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-[#497fae] focus:border-[#497fae]",required:""},[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)([5,10,15,20,25,30],(e=>(0,o.Lk)("option",{key:e,value:e},(0,r.v_)(e)+" segundos ",9,fe))),64))],512),[[C.u1,l.editedItem.dwellTime]])]),(0,o.Lk)("div",be,[t[14]||(t[14]=(0,o.Lk)("label",{for:"color",class:"block text-sm font-medium text-gray-500 mb-1"},"Color",-1)),(0,o.bo)((0,o.Lk)("input",{type:"color",id:"color","onUpdate:modelValue":t[6]||(t[6]=e=>l.editedItem.color=e),class:"w-full border border-gray-300 rounded-lg h-10 px-3 cursor-pointer focus:ring-2 focus:ring-[#497fae] focus:border-[#497fae]"},null,512),[[C.Jo,l.editedItem.color]])]),(0,o.Lk)("div",pe,[(0,o.Lk)("button",{type:"button",onClick:t[7]||(t[7]=t=>e.$emit("close")),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),t[15]||(t[15]=(0,o.Lk)("button",{type:"submit",class:"px-4 py-2 bg-[#396895] text-white rounded-lg hover:bg-[#396895]"}," Guardar Cambios ",-1))])],32)])])):(0,o.Q3)("",!0)}var ye={props:{item:{type:Object,required:!0}},emits:["close","updateItem"],setup(e,{emit:t}){const a=h.A.getters.getItemName("Layouts"),r=h.A.getters.getItemName("Áreas"),l=(0,u.KR)({...e.item}),n=(0,u.KR)([]),s=(0,u.KR)([]),i=async()=>{const e=h.A.state.token,t=await(0,O.bN)(e);n.value=t.data.data},c=async()=>{const e=h.A.state.token,t=await(0,Q.IE)(e);s.value=t.data.data};(0,o.wB)((()=>e.item),(e=>{l.value={...e}}));const d=(0,o.EW)((()=>s.value.every((e=>l.value.aforo.typeItemMobiles.includes(e._id))))),m=()=>{d.value?l.value.aforo.typeItemMobiles=[]:l.value.aforo.typeItemMobiles=s.value.map((e=>e._id))},f=()=>{const e={...l.value,layoutId:l.value.layout._id};delete e.layout,t("updateItem",e)};return(0,o.sV)((()=>{i(),c()})),{editedItem:l,submitUpdate:f,listLayout:i,listCtags:c,layouts:n,ctangs:s,nameArea:r,NameLayout:a,isAllSelected:d,toggleSelectAll:m}}};const ke=(0,L.A)(ye,[["render",ge]]);var ve=ke,xe=a(2729),he=a(4260),Ae=a(9669),Le=a(4750);function Ie(e,t,a,l,n,s){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(Le.W,{modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=e=>l.search=e),label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-5 PT-3",density:"compact"},null,8,["modelValue"]),(0,o.bF)(xe.J,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(he.Py,{headers:l.headers,items:l.filteredItems,search:l.search,density:"compact",class:"ma-2"},{["item.areas"]:(0,o.k6)((({item:e})=>[(0,o.bF)(Ae.w,{small:"",color:"#497fae",onClick:t=>l.viewAntennas(e.areaPoints)},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)(" mdi-eye ")]))),_:2},1032,["onClick"])])),["item.actions"]:(0,o.k6)((({item:e})=>[(0,o.bF)(Ae.w,{small:"",color:"#099cb4",class:"mr-4",onClick:t=>l.editItem(e)},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)(" mdi-pencil ")]))),_:2},1032,["onClick"]),(0,o.bF)(Ae.w,{small:"",color:"red",onClick:t=>l.deleteItem(e)},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)(" mdi-delete ")]))),_:2},1032,["onClick"])])),["item.color"]:(0,o.k6)((({item:e})=>[(0,o.Lk)("div",{style:(0,r.Tr)({backgroundColor:e.color}),class:"w-6 h-6 rounded-full border border-gray-300"},null,4)])),_:2},1032,["headers","items","search"])])),_:1})],64)}a(4520),a(7550);var we={name:"DataTable",props:{items:{type:Array,required:!0}},emits:["deleteItem","editItem","viewAntennas"],setup(e,{emit:t}){const a=(0,o.EW)((()=>h.A.getters.getItemName("Puntos de área"))),r=(0,o.EW)((()=>h.A.getters.getItemName("Layouts"))),l=(0,u.KR)(""),n=(0,u.KR)([{key:"id",title:"ID"},{key:"name",title:"Nombre"},{key:"layout.name",title:"Layout"},{key:"areas",title:"Antenas"},{key:"dwellTime",title:"T. permanencia"},{key:"color",title:"Color"},{key:"actions",title:"Acciones",sortable:!1}]),s=(0,o.EW)((()=>n.value.map((e=>"areas"===e.key?{...e,title:a.value}:"layout.name"===e.key?{...e,title:r.value}:e)))),i=(0,o.EW)((()=>{if(!l.value)return c.value;const e=l.value.toLowerCase();return c.value.filter((t=>Object.values(t).some((t=>String(t).toLowerCase().includes(e)))))})),c=(0,o.EW)((()=>e.items.map(((e,t)=>({id:t+1,...e}))))),d=e=>{t("deleteItem",e)},m=e=>{t("editItem",e)},f=e=>{t("viewAntennas",e)};return{search:l,headers:s,filteredItems:i,deleteItem:d,editItem:m,viewAntennas:f}}};const Ce=(0,L.A)(we,[["render",Ie],["__scopeId","data-v-2e708897"]]);var Ee=Ce,_e=a(4874),$e=a.n(_e),Fe={components:{DataTable:Ee,AntennasModal:w,createForm:P,EditForm:ve},setup(){const e=(0,u.KR)([]),t=(0,u.KR)(null),a=(0,u.KR)(null),r=(0,u.KR)(!1),l=(0,u.KR)(!1),n=(0,u.KR)(!1),s=(0,u.KR)(!1),i=h.A.getters.getItemName("Áreas"),d=()=>{n.value=!0},m=()=>{n.value=!1},f=()=>{r.value=!0},b=()=>{r.value=!1},p=e=>{t.value=e,l.value=!0},g=()=>{l.value=!1,t.value=null},y=e=>{a.value={...e},s.value=!0},k=()=>{s.value=!1},v=async e=>{console.log(e),f();try{const t=h.A.state.token,a=e._id,o=await(0,c.ZZ)(t,e,a);o&&(k(),b(),$e().fire({title:"Éxito",text:"El área fue actualizada correctamente.",icon:"success",confirmButtonText:"Aceptar"})),await L()}catch(t){b();const e=t.response?.data?.message||t.response?.data||"Ocurrió un error inesperado";console.error("Error al actualizar el área:",e),$e().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},x=async e=>{try{const t=h.A.state.token;await(0,c.Qt)(t,e),await L(),m(),$e().fire({title:"Éxito",text:"El área fue creada correctamente.",icon:"success",confirmButtonText:"Aceptar"})}catch(t){m();const e=t.response?.data?.message||t.response?.data||"Ocurrió un error inesperado";console.error("Error al crear el área:",e),$e().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},A=async e=>{try{const t=await $e().fire({title:"¿Estás seguro?",text:"No podrás revertir esto.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f7a304",cancelButtonColor:"#deddda",cancelButtonText:"Cancelar",confirmButtonText:"Sí, eliminar",reverseButtons:!0});if(!t.isConfirmed)return;f();const a=h.A.state.token,o=e._id,r=await(0,c.$x)(a,o);r&&(b(),$e().fire({title:"Eliminado",text:"El área fue eliminada correctamente.",icon:"success",confirmButtonText:"Aceptar"})),await L()}catch(t){b();const e=t.response?.data?.message||t.response?.data||"Ocurrió un error inesperado";console.error("Error al eliminar el área:",e),$e().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}},L=async()=>{f();try{const t=h.A.state.token,a=await(0,c.ZL)(t);e.value=a.data.data,a&&b()}catch(t){b();const e=t.response?.data?.message||t.response?.data||"Ocurrió un error al listar las áreas.";console.error("Error al obtener las rutas:",e),$e().fire({title:"Error",text:e,icon:"error",confirmButtonText:"Aceptar"})}};return(0,o.sV)(L),{items:e,fetchItems:L,openLoading:f,closeLoading:b,isLoading:r,listAntennas:p,closeAntennaModal:g,nameArea:i,deleteItems:A,isCreateFormVisible:n,openCreateForm:d,closeCreateForm:m,submitItems:x,updateItems:v,openEditForm:y,closeEditForm:k,isEditFormVisible:s,selectedItem:a,isAntennasModalVisible:l,selectedAntennas:t}}};const Ve=(0,L.A)(Fe,[["render",i]]);var Be=Ve}}]);
//# sourceMappingURL=601.84c04ad6.js.map