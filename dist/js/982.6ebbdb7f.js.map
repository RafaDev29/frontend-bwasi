{"version":3,"file":"js/982.6ebbdb7f.js","mappings":"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","sources":["webpack://frontend-ebox-platform/./src/api/AreaService.js","webpack://frontend-ebox-platform/./src/api/GAreaService.js","webpack://frontend-ebox-platform/./src/api/GTagService.js","webpack://frontend-ebox-platform/../src/index.ts","webpack://frontend-ebox-platform/./src/utils/eventBus.js","webpack://frontend-ebox-platform/./src/views/ReportView.vue","webpack://frontend-ebox-platform/./src/api/ReportService.js","webpack://frontend-ebox-platform/./src/components/report/DataTable.vue","webpack://frontend-ebox-platform/./src/components/report/DataTable.vue?cc13","webpack://frontend-ebox-platform/./src/components/report/DateForm.vue","webpack://frontend-ebox-platform/./src/components/report/DateForm.vue?3c08","webpack://frontend-ebox-platform/./src/views/ReportView.vue?c189"],"sourcesContent":["import axiosInstance from \"@/config/http.config\";\r\n\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\nexport function listAreasApi(token) {\r\n  return axiosInstance.get(`${baseURL}/areas`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n}\r\n\r\nexport function deleteAreaApi(token, id) {\r\n  return axiosInstance.delete(`${baseURL}/areas/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n}\r\n\r\n\r\nexport function createAreaApi(token, payload) {\r\n  return axiosInstance.post(`${baseURL}/areas`,payload,  {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n}\r\n\r\n\r\nexport function updateAreaApi(token, payload, id) {\r\n  return axiosInstance.patch(`${baseURL}/areas/${id}`,payload,  {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n}\r\n\r\n\r\nexport function coordinatesAreaApi(token, payload, id) {\r\n  return axiosInstance.patch(`${baseURL}/areas/${id}`,payload,  {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n}\r\n\r\n\r\n\r\n","import axiosInstance from \"@/config/http.config\";\n\n\nconst baseURL = process.env.VUE_APP_BASE_URL;\n\nexport function listGAreasApi(token) {\n  return axiosInstance.get(`${baseURL}/group-areas`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\nexport function deleteGAreasApi(token, id) {\n  return axiosInstance.delete(`${baseURL}/group-areas/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\n\nexport function createGAreasApi(token, payload) {\n  return axiosInstance.post(`${baseURL}/group-areas`,payload,  {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\n\nexport function updateGAreasApi(token, payload, id) {\n  return axiosInstance.patch(`${baseURL}/group-areas/${id}`,payload,  {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\n","import axiosInstance from \"@/config/http.config\";\n\n\nconst baseURL = process.env.VUE_APP_BASE_URL;\n\nexport function listGTagsApi(token) {\n  return axiosInstance.get(`${baseURL}/group-mobileitems`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\nexport function deleteGTagsApi(token, id) {\n  return axiosInstance.delete(`${baseURL}/group-mobileitems/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\n\nexport function createGTagsApi(token, payload) {\n  return axiosInstance.post(`${baseURL}/group-mobileitems`,payload,  {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\n\nexport function updateGTagsApi(token, payload, id) {\n  return axiosInstance.patch(`${baseURL}/group-mobileitems/${id}`,payload,  {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\n","export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<\n\tWildcardHandler<T>\n>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(\n\t\ttype: Key,\n\t\thandler?: Handler<Events[Key]>\n\t): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(\n\t\ttype: undefined extends Events[Key] ? Key : never\n\t): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t} else {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from (`'*'` to remove a wildcard handler)\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t} else {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n","import mitt from \"mitt\";\n\nexport const eventBus = mitt();\n","<template>\n    <div>\n        <div class=\"flex justify-between items-center\">\n            <h1 class=\"font-bold lg:text-2xl text-xl text-gray-500 mb-5\"> Reportes</h1>\n        </div>\n        <DateForm @apply=\"fetchItems\" @exportExcel=\"generateExcel\"/>\n        <DataTable :items=\"items\" />\n\n    </div>\n\n    <!-- Loading Overlay -->\n    <div v-if=\"isLoading\" class=\"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 z-[9999]\">\n        <div class=\"flex flex-col items-center space-y-4\">\n            <div class=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white\"></div>\n            <p class=\"text-white text-lg font-semibold\">Cargando, por favor espera...</p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { listReportApi } from '@/api/ReportService';\nimport store from '@/store';\nimport DataTable from '@/components/report/DataTable.vue';\nimport DateForm from '@/components/report/DateForm.vue';\nimport Swal from 'sweetalert2';\nexport default {\n    components: { DataTable, DateForm },\n    setup() {\n        const items = ref([]);\n        const isLoading = ref(false);\n\n        const openLoading = () => {\n            isLoading.value = true;\n        };\n        const closeLoading = () => {\n            isLoading.value = false;\n        };\n\n        const getStartAndEndOfDayUTC5 = () => {\n            const now = new Date();\n            const utcOffset = -5 * 60; // UTC-5 offset in minutes\n\n            // Ajustar a UTC-5\n            const localTime = new Date(now.getTime() + utcOffset * 60 * 1000);\n\n            // Inicio del día\n            const startOfDay = new Date(localTime.setUTCHours(0, 0, 0, 0));\n            const formattedStartOfDay = startOfDay.toISOString().slice(0, 19).replace(\"T\", \" \");\n\n            // Fin del día\n            const endOfDay = new Date(localTime.setUTCHours(23, 59, 0, 0));\n            const formattedEndOfDay = endOfDay.toISOString().slice(0, 19).replace(\"T\", \" \");\n\n            return { dateFrom: formattedStartOfDay, dateTo: formattedEndOfDay };\n        };\n\n        const insertDate = async () => {\n            try {\n                const { dateFrom, dateTo } = getStartAndEndOfDayUTC5();\n                const payload = {\n                    dateFrom,\n                    dateTo,\n                    \"mobile_items\": [\"ALL\"],\n                    \"group_mobile_items\": [\"ALL\"],\n                    \"areas\": [\"ALL\"],\n                    \"group_areas\": [\"ALL\"]\n                };\n\n                await fetchItems(payload);\n            } catch (error) {\n                console.error(\"Error al enviar las fechas iniciales:\", error);\n            }\n        };\n\n        const fetchItems = async (payload) => {\n            openLoading();\n            try {\n                const token = store.state.token;\n                const response = await listReportApi(token, payload);\n                items.value = response.data.data;\n                closeLoading();\n            } catch (error) {\n                closeLoading();\n                const errorMessage = error.response?.data?.message || error.response?.data || 'Error al obtener los reportes.';\n                Swal.fire({ title: 'Error', text: errorMessage, icon: 'error', confirmButtonText: 'Aceptar' });\n            }\n        };\n\n\n        onMounted(insertDate);\n\n        return {\n            items,\n            fetchItems,\n            openLoading,\n            closeLoading,\n            isLoading,\n            insertDate\n        };\n    },\n};\n</script>\n","import axiosInstance from \"@/config/http.config\";\n\nconst baseURL = process.env.VUE_APP_BASE_URL;\n\nexport function listReportApi(token, paylaod) {\n  \n  return axiosInstance.post(`${baseURL}/reports/monitoring`, paylaod,  {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\n","<template>\n  <div class=\"mb-5 pb-5\">\n\n    <v-text-field\n      v-model=\"search\"\n      label=\"Buscar\"\n      prepend-inner-icon=\"mdi-magnify\"\n      variant=\"outlined\"\n      hide-details\n      single-line\n      class=\"mb-5 PT-3\"\n      density=\"compact\"\n    ></v-text-field>\n\n    <!-- Tabla de datos -->\n    <v-card flat>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"filteredItems\"\n        :search=\"search\"\n        density=\"compact\"\n        class=\"ma-2\"\n      >\n      </v-data-table>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, onUnmounted } from \"vue\";\nimport { eventBus } from \"@/utils/eventBus\";\nimport * as XLSX from \"xlsx\";\n\nexport default {\n  name: \"DataTable\",\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n  },\n  setup(props) {\n    const search = ref(\"\");\n\n    // Define las funciones para formatear horas y fechas\n    const formatTime = (isoString) => {\n      if (!isoString) return \"\";\n      const date = new Date(isoString);\n      date.setHours(date.getHours() + 5 ); // Ajustar a UTC-5\n      return date.toLocaleTimeString(\"es-ES\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n        hourCycle: \"h23\", // Formato 24 horas\n      });\n    };\n\n    const formatDate = (isoString) => {\n      if (!isoString) return \"\";\n      const date = new Date(isoString);\n      date.setHours(date.getHours() + 6 ); // Ajustar a UTC-5\n      return date.toLocaleDateString(\"es-ES\", {\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\",\n      });\n    };\n\n  \n    const headers = ref([\n      { key: \"id\", title: \"#\" },\n      { key: \"createdAt\", title: \"Fecha\" },\n      { key: \"identifier\", title: \"Identificador\" },\n      // { key: \"itemMobileMac\", title: \"MAC\" },\n      { key: \"name\", title: \"Nombre\" },\n      { key: \"entryTime\", title: \"Hora de ingreso\" },\n      { key: \"exitTime\", title: \"Hora de salida\" },\n      { key: \"area.name\", title: \"Área\" },\n   \n      { key: \"difference\", title: \"Tiempo de permanencia\" },\n    ]);\n\n    // Prepara los datos de la tabla con formato\n    const indexedItems = computed(() => {\n      return props.items.map((item, index) => ({\n        id: index + 1,\n        itemMobileMac: item.itemMobileMac,\n        name: item.name,\n        entryTime: formatTime(item.entryTime),\n        exitTime: formatTime(item.exitTime),\n        \"area.name\": item.area?.name || \"N/A\", // Mapea el nombre del área\n        identifier: item.identifier,\n        difference: item.difference,\n        createdAt: formatDate(item.createdAt), // Formatear la fecha completa\n      }));\n    });\n\n    // Filtrar datos según la búsqueda\n    const filteredItems = computed(() => {\n      if (!search.value) {\n        return indexedItems.value;\n      }\n      const searchTerm = search.value.toLowerCase();\n      return indexedItems.value.filter((item) =>\n        Object.values(item).some((val) =>\n          String(val).toLowerCase().includes(searchTerm)\n        )\n      );\n    });\n\n    // Exportar los datos de la tabla filtrados a Excel\n    const exportToExcel = () => {\n      const dataToExport = filteredItems.value.map((item) => {\n        const row = {};\n        headers.value.forEach((header) => {\n          row[header.title] = item[header.key];\n        });\n        return row;\n      });\n\n      const worksheet = XLSX.utils.json_to_sheet(dataToExport);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, \"Datos\");\n      XLSX.writeFile(workbook, \"reporte.xlsx\");\n    };\n\n    const handleExportEvent = () => {\n      console.log(\"Generando archivo Excel con los datos de la tabla...\");\n      exportToExcel();\n    };\n\n    onMounted(() => {\n      eventBus.on(\"export-requested\", handleExportEvent);\n    });\n\n    onUnmounted(() => {\n      eventBus.off(\"export-requested\", handleExportEvent);\n    });\n\n    return {\n      search,\n      filteredItems,\n      headers,\n    };\n  },\n};\n</script>\n\n<style scoped>\n/* Estilos específicos para el componente de la tabla */\n</style>\n","import { render } from \"./DataTable.vue?vue&type=template&id=45f09a46&scoped=true\"\nimport script from \"./DataTable.vue?vue&type=script&lang=js\"\nexport * from \"./DataTable.vue?vue&type=script&lang=js\"\n\nimport \"./DataTable.vue?vue&type=style&index=0&id=45f09a46&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45f09a46\"]])\n\nexport default __exports__","<template>\n    <div>\n        <!-- Filtros de fecha -->\n        <div class=\"flex items-center space-x-2 p-2 bg-gray-50 shadow rounded-lg mb-3\">\n            <!-- Fecha Desde -->\n            <div class=\"w-1/3\">\n                <label for=\"start-date\" class=\"block text-sm font-medium text-gray-700\">Desde</label>\n                <input id=\"start-date\" type=\"datetime-local\" v-model=\"startDate\"\n                    class=\"mt-2 block w-full h-10 border-gray-300 rounded-lg bg-[#bfd3e6] p-2 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm\" />\n            </div>\n\n            <!-- Fecha Hasta -->\n            <div class=\"w-1/3\">\n                <label for=\"end-date\" class=\"block text-sm font-medium text-gray-700\">Hasta</label>\n                <input id=\"end-date\" type=\"datetime-local\" v-model=\"endDate\"\n                    class=\"mt-2 block w-full h-10 border-gray-300 rounded-lg bg-[#bfd3e6] p-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm\" />\n            </div>\n\n            <!-- Dropdowns dinámicos con checkboxes y resumen de selección -->\n            <div class=\"w-1/3 relative\" v-for=\"(dropdown, index) in dropdowns\" :key=\"index\">\n                <label :for=\"'select-option-' + index\" class=\"block text-sm font-medium text-gray-700\">\n                    {{ dropdown.label }}\n                </label>\n                <div class=\"relative\">\n                    <!-- Botón con resumen de selección -->\n                    <button @click=\"toggleDropdown(index)\"\n                        class=\"mt-2 block w-full h-10 px-4 bg-[#bfd3e6] border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm text-left truncate\">\n                        {{ getSelectedText(index) }}\n                    </button>\n                    <div v-if=\"dropdown.open\"\n                        class=\"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60\">\n                        <!-- Buscador -->\n                        <div class=\"p-3\">\n                            <label for=\"input-group-search\" class=\"sr-only\">Search</label>\n                            <div class=\"relative\">\n                                <div class=\"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none\">\n                                    <svg class=\"w-4 h-4 text-gray-500 dark:text-gray-400\" aria-hidden=\"true\"\n                                        xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 20 20\">\n                                        <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                                            stroke-width=\"2\" d=\"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z\" />\n                                    </svg>\n                                </div>\n                                <input type=\"text\" id=\"input-group-search\" v-model=\"dropdown.searchTerm\"\n                                    class=\"block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-#497fae-500 focus:border-#497fae-500 bg-white-600 border-gray-500 dark:placeholder-gray-400 dark:text-gray dark:focus:ring-#497fae-500 dark:focus:border-#497fae-500\"\n                                    placeholder=\"Buscar\">\n                            </div>\n                        </div>\n\n                        <!-- Lista de opciones -->\n                        <ul class=\"h-48 px-3 pb-3 overflow-y-auto text-sm text-gray-700 dark:text-gray-600\">\n                            <!-- Opción \"Todos\" -->\n                            <li class=\"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center\">\n                                <input type=\"checkbox\" :checked=\"dropdown.selectedIds.includes('ALL')\"\n                                    @change=\"toggleSelectAll(index)\" class=\"mr-2\" />\n                                Todos\n                            </li>\n                            <!-- Opciones filtradas -->\n                            <li v-for=\"item in filteredData(index)\" :key=\"item._id\"\n                                class=\"px-4 py-2 flex items-center hover:bg-gray-100 cursor-pointer\">\n                                <input type=\"checkbox\" :value=\"item._id\" v-model=\"dropdown.selectedIds\"\n                                    :disabled=\"dropdown.selectedIds.includes('ALL')\" class=\"mr-2\" />\n                                {{ item.name }}\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <!-- Botones de Buscar y Exportar -->\n            <div class=\"flex space-x-2 w-1/6 mt-6\">\n                <button @click=\"validateAndEmitFilter\"\n                    class=\"w-1/2 h-10 bg-[#396895] text-white font-semibold rounded-lg shadow-md hover:bg-[#396895] focus:outline-none focus:ring-2 focus:ring-[#497fae] focus:ring-opacity-75 mdi mdi-magnify text-xl\"></button>\n                <button @click=\"emitExportEvent\"\n                    class=\"w-1/2 h-10 bg-[#099cb4] text-white font-semibold rounded-lg shadow-md hover:bg-#099cb4-600 focus:outline-none focus:ring-2 focus:ring-#099cb4-400 focus:ring-opacity-75 mdi mdi-microsoft-excel text-xl\"></button>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\nimport { ref, onMounted } from \"vue\";\nimport Swal from \"sweetalert2\";\nimport { eventBus } from \"@/utils/eventBus\"; // Importar el bus de eventos\nimport { listTagApi } from \"@/api/TagService\";\nimport { listGTagsApi } from \"@/api/GTagService\";\nimport { listAreasApi } from \"@/api/AreaService\";\nimport { listGAreasApi } from \"@/api/GAreaService\";\nimport store from \"@/store\";\n\nexport default {\n    setup(_, { emit }) {\n        const startDate = ref(\"\");\n        const endDate = ref(\"\");\n\n        // Configuración de dropdowns\n        const dropdowns = ref([\n            { label: \"Etiquetas\", fetchData: listTagApi, data: [], selectedIds: [], open: false, searchTerm: \"\" },\n            { label: \"G. Etiquetas\", fetchData: listGTagsApi, data: [], selectedIds: [], open: false, searchTerm: \"\" },\n            { label: \"Área\", fetchData: listAreasApi, data: [], selectedIds: [], open: false, searchTerm: \"\" },\n            { label: \"G. Áreas\", fetchData: listGAreasApi, data: [], selectedIds: [], open: false, searchTerm: \"\" },\n        ]);\n        const token = store.state.token;\n\n        const getSelectedText = (index) => {\n        const dropdown = dropdowns.value[index];\n        if (!dropdown.selectedIds.length) return \"Seleccionar\";\n        if (dropdown.selectedIds.includes(\"ALL\")) return \"Todos seleccionados\";\n\n        const selectedNames = dropdown.data\n            .filter(item => dropdown.selectedIds.includes(item._id))\n            .map(item => item.name);\n\n        if (selectedNames.length <= 2) return selectedNames.join(\", \");\n        return `${selectedNames.slice(0, 2).join(\", \")} y ${selectedNames.length - 2} más`;\n    };\n\n\n        const getStartAndEndOfDayUTC5 = () => {\n            const now = new Date();\n            const utcOffset = -5 * 60;\n\n            // Ajustar a UTC-5\n            const localTime = new Date(now.getTime() + utcOffset * 60 * 1000);\n\n            // Inicio del día\n            const startOfDay = new Date(localTime.setUTCHours(0, 0, 0, 0));\n            const formattedStartOfDay = startOfDay.toISOString().slice(0, 19);\n\n            // Fin del día\n            const endOfDay = new Date(localTime.setUTCHours(23, 59, 0, 0));\n            const formattedEndOfDay = endOfDay.toISOString().slice(0, 19);\n\n            return { dateFrom: formattedStartOfDay, dateTo: formattedEndOfDay };\n        };\n\n        // Establecer fechas iniciales al montar\n        onMounted(() => {\n            const { dateFrom, dateTo } = getStartAndEndOfDayUTC5();\n            startDate.value = dateFrom;\n            endDate.value = dateTo;\n        });\n\n        // Alternar apertura del dropdown\n        const toggleDropdown = async (index) => {\n            const dropdown = dropdowns.value[index];\n            if (!dropdown.data.length) {\n                try {\n                    const response = await dropdown.fetchData(token);\n                    dropdown.data = response.data.data || [];\n                } catch (error) {\n                    console.error(\"Error fetching data:\", error);\n                }\n            }\n            dropdown.open = !dropdown.open;\n        };\n\n        // Filtrar datos según el término de búsqueda\n        const filteredData = (index) => {\n            const searchTerm = dropdowns.value[index].searchTerm.toLowerCase();\n            return dropdowns.value[index].data.filter((item) =>\n                item.name.toLowerCase().includes(searchTerm)\n            );\n        };\n\n        // Lógica para seleccionar/deseleccionar \"Todos\"\n        const toggleSelectAll = (index) => {\n            const dropdown = dropdowns.value[index];\n            if (dropdown.selectedIds.includes(\"ALL\")) {\n                dropdown.selectedIds = [];\n            } else {\n                dropdown.selectedIds = [\"ALL\"];\n            }\n        };\n\n        // Validar fechas y emitir el filtro\n        const validateAndEmitFilter = () => {\n            if (!startDate.value || !endDate.value) {\n                Swal.fire({\n                    icon: \"error\",\n                    title: \"Fechas incompletas\",\n                    text: \"Por favor, selecciona ambas fechas.\",\n                });\n                return;\n            }\n\n            // Generar los datos\n            const filterData = {\n                dateFrom: startDate.value,\n                dateTo: endDate.value,\n                mobile_items: dropdowns.value[0].selectedIds.length ? dropdowns.value[0].selectedIds : [],\n                group_mobile_items: dropdowns.value[1].selectedIds.length ? dropdowns.value[1].selectedIds : [],\n                areas: dropdowns.value[2].selectedIds.length ? dropdowns.value[2].selectedIds : [],\n                group_areas: dropdowns.value[3].selectedIds.length ? dropdowns.value[3].selectedIds : [],\n            };\n\n            console.log(\"Emitting filter data:\", filterData);\n            emit(\"apply\", filterData);\n\n            // Cerrar todos los dropdowns\n            dropdowns.value.forEach((dropdown) => {\n                dropdown.open = false;\n            });\n        };\n\n        // Emitir evento global de exportación\n        const emitExportEvent = () => {\n            const exportData = {\n                dateFrom: startDate.value,\n                dateTo: endDate.value,\n                mobile_items: dropdowns.value[0].selectedIds.length ? dropdowns.value[0].selectedIds : [\"\"],\n                group_mobile_items: dropdowns.value[1].selectedIds.length ? dropdowns.value[1].selectedIds : [\"\"],\n                areas: dropdowns.value[2].selectedIds.length ? dropdowns.value[2].selectedIds : [\"\"],\n                group_areas: dropdowns.value[3].selectedIds.length ? dropdowns.value[3].selectedIds : [\"\"],\n            };\n\n            console.log(\"Emitting export data:\", exportData);\n            eventBus.emit(\"export-requested\", exportData); // Emitir evento global\n        };\n\n        return {\n            startDate,\n            endDate,\n            dropdowns,\n            toggleDropdown,\n            filteredData,\n            toggleSelectAll,\n            validateAndEmitFilter,\n            emitExportEvent,\n            getSelectedText\n        };\n    },\n};\n</script>\n\n<style scoped>\nul {\n    max-height: 200px;\n    overflow-y: auto;\n}\n</style>","import { render } from \"./DateForm.vue?vue&type=template&id=b5cce4b8&scoped=true\"\nimport script from \"./DateForm.vue?vue&type=script&lang=js\"\nexport * from \"./DateForm.vue?vue&type=script&lang=js\"\n\nimport \"./DateForm.vue?vue&type=style&index=0&id=b5cce4b8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b5cce4b8\"]])\n\nexport default __exports__","import { render } from \"./ReportView.vue?vue&type=template&id=557f7eb4\"\nimport script from \"./ReportView.vue?vue&type=script&lang=js\"\nexport * from \"./ReportView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["baseURL","process","VUE_APP_BASE_URL","listAreasApi","token","axiosInstance","get","headers","Authorization","deleteAreaApi","id","delete","createAreaApi","payload","post","updateAreaApi","patch","coordinatesAreaApi","listGAreasApi","deleteGAreasApi","createGAreasApi","updateGAreasApi","listGTagsApi","deleteGTagsApi","createGTagsApi","updateGTagsApi","n","all","Map","on","t","e","i","push","set","off","splice","indexOf","emit","slice","map","eventBus","mitt","key","class","_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_DateForm","onApply","$setup","fetchItems","onExportExcel","_ctx","generateExcel","_component_DataTable","items","isLoading","_hoisted_1","_cache","_createCommentVNode","listReportApi","paylaod","_component_v_text_field","modelValue","search","$event","label","variant","density","_component_v_card","flat","default","_withCtx","_component_v_data_table","filteredItems","_","name","props","type","Array","required","setup","ref","formatTime","isoString","date","Date","setHours","getHours","toLocaleTimeString","hour","minute","second","hourCycle","formatDate","toLocaleDateString","day","month","year","title","indexedItems","computed","item","index","itemMobileMac","entryTime","exitTime","area","identifier","difference","createdAt","value","searchTerm","toLowerCase","filter","Object","values","some","val","String","includes","exportToExcel","dataToExport","row","forEach","header","worksheet","XLSX","json_to_sheet","workbook","book_new","book_append_sheet","handleExportEvent","console","log","onMounted","onUnmounted","__exports__","_hoisted_2","for","startDate","_hoisted_3","endDate","_renderList","dropdowns","dropdown","_hoisted_4","_hoisted_5","onClick","toggleDropdown","getSelectedText","_hoisted_6","open","_hoisted_7","_hoisted_8","_hoisted_9","xmlns","fill","viewBox","stroke","d","placeholder","_hoisted_10","_hoisted_11","_hoisted_12","checked","selectedIds","onChange","toggleSelectAll","_hoisted_13","_createTextVNode","filteredData","_id","disabled","_hoisted_14","_toDisplayString","_hoisted_15","args","validateAndEmitFilter","emitExportEvent","fetchData","listTagApi","data","store","state","length","selectedNames","join","getStartAndEndOfDayUTC5","now","utcOffset","localTime","getTime","startOfDay","setUTCHours","formattedStartOfDay","toISOString","endOfDay","formattedEndOfDay","dateFrom","dateTo","async","response","error","Swal","icon","text","filterData","mobile_items","group_mobile_items","areas","group_areas","exportData","components","DataTable","DateForm","openLoading","closeLoading","replace","insertDate","errorMessage","message","confirmButtonText","render"],"sourceRoot":""}