"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[499],{2683:function(e,t,a){a.d(t,{GP:function(){return i},LO:function(){return r},Pu:function(){return n},ek:function(){return s}});var l=a(1189);const o="https://api.bwasi.maquiadev.com/api/v1";function n(e){return l.A.get(`${o}/type-areapoints`,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t){return l.A.delete(`${o}/type-areapoints/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function r(e,t){return l.A.post(`${o}/type-areapoints`,t,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t,a){return l.A.patch(`${o}/type-areapoints/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},650:function(e,t,a){a.d(t,{Be:function(){return s},IE:function(){return n},W7:function(){return r},jO:function(){return i}});var l=a(1189);const o="https://api.bwasi.maquiadev.com/api/v1";function n(e){return l.A.get(`${o}/type-mobileitems`,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t){return l.A.delete(`${o}/type-mobileitems/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function r(e,t){return l.A.post(`${o}/type-mobileitems`,t,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t,a){return l.A.patch(`${o}/type-mobileitems/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},7370:function(e,t,a){a.d(t,{L:function(){return i},R:function(){return n}});var l=a(1189);const o="https://api.bwasi.maquiadev.com/api/v1";function n(e){return l.A.get(`${o}/menu-navigation`,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t){return l.A.patch(`${o}/menu-navigation`,t,{headers:{Authorization:`Bearer ${e}`}})}},9929:function(e,t,a){a.r(t),a.d(t,{default:function(){return ba}});var l=a(6768),o=a(4232),n=a(5130),i=a(554),r=a(2729),s=(a(4114),a(8992),a(3949),a(8872),a(9262)),u=a(8353),c=a(4663),d=a(4587),v=a(1247);const m=["start","end","center"],p=["space-between","space-around","space-evenly"];function f(e,t){return u.fi.reduce(((a,l)=>{const n=e+(0,o.ZH)(l);return a[n]=t(),a}),{})}const g=[...m,"baseline","stretch"],y=e=>g.includes(e),h=f("align",(()=>({type:String,default:null,validator:y}))),b=[...m,...p],k=e=>b.includes(e),w=f("justify",(()=>({type:String,default:null,validator:k}))),x=[...m,...p,"stretch"],C=e=>x.includes(e),E=f("alignContent",(()=>({type:String,default:null,validator:C}))),S={align:Object.keys(h),justify:Object.keys(w),alignContent:Object.keys(E)},A={align:"align",justify:"justify",alignContent:"align-content"};function _(e,t,a){let l=A[e];if(null!=a){if(t){const a=t.replace(e,"");l+=`-${a}`}return l+=`-${a}`,l.toLowerCase()}}const L=(0,d.j)({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:y},...h,justify:{type:String,default:null,validator:k},...w,alignContent:{type:String,default:null,validator:C},...E,...(0,s.u)(),...(0,c.X)()},"VRow"),I=(0,v.RW)()({name:"VRow",props:L(),setup(e,t){let{slots:a}=t;const o=(0,l.EW)((()=>{const t=[];let a;for(a in S)S[a].forEach((l=>{const o=e[l],n=_(a,l,o);n&&t.push(n)}));return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t}));return()=>(0,l.h)(e.tag,{class:["v-row",o.value,e.class],style:e.style},a.default?.())}}),F=(()=>u.fi.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),W=(()=>u.fi.reduce(((e,t)=>{const a="offset"+(0,o.ZH)(t);return e[a]={type:[String,Number],default:null},e}),{}))(),$=(()=>u.fi.reduce(((e,t)=>{const a="order"+(0,o.ZH)(t);return e[a]={type:[String,Number],default:null},e}),{}))(),V={col:Object.keys(F),offset:Object.keys(W),order:Object.keys($)};function M(e,t,a){let l=e;if(null!=a&&!1!==a){if(t){const a=t.replace(e,"");l+=`-${a}`}return"col"===e&&(l="v-"+l),"col"!==e||""!==a&&!0!==a?(l+=`-${a}`,l.toLowerCase()):l.toLowerCase()}}const R=["auto","start","end","center","baseline","stretch"],N=(0,d.j)({cols:{type:[Boolean,String,Number],default:!1},...F,offset:{type:[String,Number],default:null},...W,order:{type:[String,Number],default:null},...$,alignSelf:{type:String,default:null,validator:e=>R.includes(e)},...(0,s.u)(),...(0,c.X)()},"VCol"),B=(0,v.RW)()({name:"VCol",props:N(),setup(e,t){let{slots:a}=t;const o=(0,l.EW)((()=>{const t=[];let a;for(a in V)V[a].forEach((l=>{const o=e[l],n=M(a,l,o);n&&t.push(n)}));const l=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!l||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>(0,l.h)(e.tag,{class:[o.value,e.class],style:e.style},a.default?.())}});var X=a(2542),D=(a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(4520),a(2577),a(1454),a(7550),a(5399)),K=a(144),z=a(7861),j=a(9094);const T=Symbol.for("vuetify:layout"),O=Symbol.for("vuetify:layout-item"),P=1e3,U=(0,d.j)({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),H=(0,d.j)({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Y(){const e=(0,l.WQ)(T);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function G(e){const t=(0,l.WQ)(T);if(!t)throw new Error("[Vuetify] Could not find injected layout");const a=e.id??`layout-item-${(0,z.v6)()}`,o=(0,z.nI)("useLayoutItem");(0,l.Gt)(O,{id:a});const n=(0,K.IJ)(!1);(0,l.Y4)((()=>n.value=!0)),(0,l.n)((()=>n.value=!1));const{layoutItemStyles:i,layoutItemScrimStyles:r}=t.register(o,{...e,active:(0,l.EW)((()=>!n.value&&e.active.value)),id:a});return(0,l.xo)((()=>t.unregister(a))),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:r}}const q=(e,t,a,l)=>{let o={top:0,left:0,right:0,bottom:0};const n=[{id:"",layer:{...o}}];for(const i of e){const e=t.get(i),r=a.get(i),s=l.get(i);if(!e||!r||!s)continue;const u={...o,[e.value]:parseInt(o[e.value],10)+(s.value?parseInt(r.value,10):0)};n.push({id:i,layer:u}),o=u}return n};function Q(e){const t=(0,l.WQ)(T,null),a=(0,l.EW)((()=>t?t.rootZIndex.value-100:P)),o=(0,K.KR)([]),n=(0,K.Kh)(new Map),i=(0,K.Kh)(new Map),r=(0,K.Kh)(new Map),s=(0,K.Kh)(new Map),u=(0,K.Kh)(new Map),{resizeRef:c,contentRect:d}=(0,D.w)(),v=(0,l.EW)((()=>{const t=new Map,a=e.overlaps??[];for(const e of a.filter((e=>e.includes(":")))){const[a,l]=e.split(":");if(!o.value.includes(a)||!o.value.includes(l))continue;const r=n.get(a),s=n.get(l),u=i.get(a),c=i.get(l);r&&s&&u&&c&&(t.set(l,{position:r.value,amount:parseInt(u.value,10)}),t.set(a,{position:s.value,amount:-parseInt(c.value,10)}))}return t})),m=(0,l.EW)((()=>{const e=[...new Set([...r.values()].map((e=>e.value)))].sort(((e,t)=>e-t)),t=[];for(const a of e){const e=o.value.filter((e=>r.get(e)?.value===a));t.push(...e)}return q(t,n,i,s)})),p=(0,l.EW)((()=>!Array.from(u.values()).some((e=>e.value)))),f=(0,l.EW)((()=>m.value[m.value.length-1].layer)),g=(0,l.EW)((()=>({"--v-layout-left":(0,j.Dg)(f.value.left),"--v-layout-right":(0,j.Dg)(f.value.right),"--v-layout-top":(0,j.Dg)(f.value.top),"--v-layout-bottom":(0,j.Dg)(f.value.bottom),...p.value?void 0:{transition:"none"}}))),y=(0,l.EW)((()=>m.value.slice(1).map(((e,t)=>{let{id:a}=e;const{layer:l}=m.value[t],o=i.get(a),r=n.get(a);return{id:a,...l,size:Number(o.value),position:r.value}})))),h=e=>y.value.find((t=>t.id===e)),b=(0,z.nI)("createLayout"),k=(0,K.IJ)(!1);(0,l.sV)((()=>{k.value=!0})),(0,l.Gt)(T,{register:(e,t)=>{let{id:c,order:d,position:f,layoutSize:g,elementSize:h,active:w,disableTransitions:x,absolute:C}=t;r.set(c,d),n.set(c,f),i.set(c,g),s.set(c,w),x&&u.set(c,x);const E=(0,j["if"])(O,b?.vnode),S=E.indexOf(e);S>-1?o.value.splice(S,0,c):o.value.push(c);const A=(0,l.EW)((()=>y.value.findIndex((e=>e.id===c)))),_=(0,l.EW)((()=>a.value+2*m.value.length-2*A.value)),L=(0,l.EW)((()=>{const e="left"===f.value||"right"===f.value,t="right"===f.value,l="bottom"===f.value,o=h.value??g.value,n=0===o?"%":"px",i={[f.value]:0,zIndex:_.value,transform:`translate${e?"X":"Y"}(${(w.value?0:-(0===o?100:o))*(t||l?-1:1)}${n})`,position:C.value||a.value!==P?"absolute":"fixed",...p.value?void 0:{transition:"none"}};if(!k.value)return i;const r=y.value[A.value];if(!r)throw new Error(`[Vuetify] Could not find layout item "${c}"`);const s=v.value.get(c);return s&&(r[s.position]+=s.amount),{...i,height:e?`calc(100% - ${r.top}px - ${r.bottom}px)`:h.value?`${h.value}px`:void 0,left:t?void 0:`${r.left}px`,right:t?`${r.right}px`:void 0,top:"bottom"!==f.value?`${r.top}px`:void 0,bottom:"top"!==f.value?`${r.bottom}px`:void 0,width:e?h.value?`${h.value}px`:void 0:`calc(100% - ${r.left}px - ${r.right}px)`}})),I=(0,l.EW)((()=>({zIndex:_.value-1})));return{layoutItemStyles:L,layoutItemScrimStyles:I,zIndex:_}},unregister:e=>{r.delete(e),n.delete(e),i.delete(e),s.delete(e),u.delete(e),o.value=o.value.filter((t=>t!==e))},mainRect:f,mainStyles:g,getLayoutItem:h,items:y,layoutRect:d,rootZIndex:a});const w=(0,l.EW)((()=>["v-layout",{"v-layout--full-height":e.fullHeight}])),x=(0,l.EW)((()=>({zIndex:t?a.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0})));return{layoutClasses:w,layoutStyles:x,getLayoutItem:h,items:y,layoutRect:d,layoutRef:c}}var J=a(4600);const Z=(0,d.j)({...(0,s.u)(),...(0,X.X)(),...U()},"VLayout"),ee=(0,v.RW)()({name:"VLayout",props:Z(),setup(e,t){let{slots:a}=t;const{layoutClasses:o,layoutStyles:n,getLayoutItem:i,items:r,layoutRef:s}=Q(e),{dimensionStyles:u}=(0,X.S)(e);return(0,J.C)((()=>(0,l.bF)("div",{ref:s,class:[o.value,e.class],style:[u.value,n.value,e.style]},[a.default?.()]))),{getLayoutItem:i,items:r}}});var te=a(2164),ae=a(6498),le=a(4529),oe=a(6747);const ne=(0,d.j)({scrollable:Boolean,...(0,s.u)(),...(0,X.X)(),...(0,c.X)({tag:"main"})},"VMain"),ie=(0,v.RW)()({name:"VMain",props:ne(),setup(e,t){let{slots:a}=t;const{dimensionStyles:o}=(0,X.S)(e),{mainStyles:n}=Y(),{ssrBootStyles:i}=(0,oe.K)();return(0,J.C)((()=>(0,l.bF)(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,i.value,o.value,e.style]},{default:()=>[e.scrollable?(0,l.bF)("div",{class:"v-main__scroller"},[a.default?.()]):a.default?.()]}))),{}}});var re=a(7852),se=a(5126);function ue(e){let{rootEl:t,isSticky:a,layoutItemStyles:o}=e;const n=(0,K.IJ)(!1),i=(0,K.IJ)(0),r=(0,l.EW)((()=>{const e="boolean"===typeof n.value?"top":n.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[e]:(0,j.Dg)(i.value)}:{top:o.value.top}]}));(0,l.sV)((()=>{(0,l.wB)(a,(e=>{e?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),{immediate:!0})})),(0,l.xo)((()=>{window.removeEventListener("scroll",u)}));let s=0;function u(){const e=s>window.scrollY?"up":"down",a=t.value.getBoundingClientRect(),l=parseFloat(o.value.top??0),r=window.scrollY-Math.max(0,i.value-l),u=a.height+Math.max(i.value,l)-window.scrollY-window.innerHeight,c=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;a.height<window.innerHeight-l?(n.value="top",i.value=l):"up"===e&&"bottom"===n.value||"down"===e&&"top"===n.value?(i.value=window.scrollY+a.top-c,n.value=!0):"down"===e&&u<=0?(i.value=0,n.value="bottom"):"up"===e&&r<=0&&(c?"top"!==n.value&&(i.value=-r+c+l,n.value="top"):(i.value=a.top+r,n.value="top")),s=window.scrollY}return{isStuck:n,stickyStyles:r}}var ce=a(1743);const de=100,ve=20;function me(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function pe(e){if(e.length<2)return 0;if(2===e.length)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const l=me(t),o=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);t+=(o-l)*Math.abs(o),a===e.length-1&&(t*=.5)}return 1e3*me(t)}function fe(){const e={};function t(t){Array.from(t.changedTouches).forEach((a=>{const l=e[a.identifier]??(e[a.identifier]=new j.CZ(ve));l.push([t.timeStamp,a])}))}function a(t){Array.from(t.changedTouches).forEach((t=>{delete e[t.identifier]}))}function l(t){const a=e[t]?.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const l=a[0],o=[],n=[];for(const e of a){if(l[0]-e[0]>de)break;o.push({t:e[0],d:e[1].clientX}),n.push({t:e[0],d:e[1].clientY})}return{x:pe(o),y:pe(n),get direction(){const{x:e,y:t}=this,[a,l]=[Math.abs(e),Math.abs(t)];return a>l&&e>=0?"right":a>l&&e<=0?"left":l>a&&t>=0?"down":l>a&&t<=0?"up":ge()}}}return{addMovement:t,endTouch:a,getVelocity:l}}function ge(){throw new Error}function ye(e){let{el:t,isActive:a,isTemporary:o,width:n,touchless:i,position:r}=e;(0,l.sV)((()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",k,{passive:!1}),window.addEventListener("touchend",w,{passive:!0})})),(0,l.xo)((()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",k),window.removeEventListener("touchend",w)}));const s=(0,l.EW)((()=>["left","right"].includes(r.value))),{addMovement:u,endTouch:c,getVelocity:d}=fe();let v=!1;const m=(0,K.IJ)(!1),p=(0,K.IJ)(0),f=(0,K.IJ)(0);let g;function y(e,t){return("left"===r.value?e:"right"===r.value?document.documentElement.clientWidth-e:"top"===r.value?e:"bottom"===r.value?document.documentElement.clientHeight-e:he())-(t?n.value:0)}function h(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a="left"===r.value?(e-f.value)/n.value:"right"===r.value?(document.documentElement.clientWidth-e-f.value)/n.value:"top"===r.value?(e-f.value)/n.value:"bottom"===r.value?(document.documentElement.clientHeight-e-f.value)/n.value:he();return t?Math.max(0,Math.min(1,a)):a}function b(e){if(i.value)return;const t=e.changedTouches[0].clientX,l=e.changedTouches[0].clientY,d=25,m="left"===r.value?t<d:"right"===r.value?t>document.documentElement.clientWidth-d:"top"===r.value?l<d:"bottom"===r.value?l>document.documentElement.clientHeight-d:he(),b=a.value&&("left"===r.value?t<n.value:"right"===r.value?t>document.documentElement.clientWidth-n.value:"top"===r.value?l<n.value:"bottom"===r.value?l>document.documentElement.clientHeight-n.value:he());(m||b||a.value&&o.value)&&(g=[t,l],f.value=y(s.value?t:l,a.value),p.value=h(s.value?t:l),v=f.value>-20&&f.value<80,c(e),u(e))}function k(e){const t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY;if(v){if(!e.cancelable)return void(v=!1);const l=Math.abs(t-g[0]),o=Math.abs(a-g[1]),n=s.value?l>o&&l>3:o>l&&o>3;n?(m.value=!0,v=!1):(s.value?o:l)>3&&(v=!1)}if(!m.value)return;e.preventDefault(),u(e);const l=h(s.value?t:a,!1);p.value=Math.max(0,Math.min(1,l)),l>1?f.value=y(s.value?t:a,!0):l<0&&(f.value=y(s.value?t:a,!1))}function w(e){if(v=!1,!m.value)return;u(e),m.value=!1;const t=d(e.changedTouches[0].identifier),l=Math.abs(t.x),o=Math.abs(t.y),n=s.value?l>o&&l>400:o>l&&o>3;a.value=n?t.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||he()):p.value>.5}const x=(0,l.EW)((()=>m.value?{transform:"left"===r.value?`translateX(calc(-100% + ${p.value*n.value}px))`:"right"===r.value?`translateX(calc(100% - ${p.value*n.value}px))`:"top"===r.value?`translateY(calc(-100% + ${p.value*n.value}px))`:"bottom"===r.value?`translateY(calc(100% - ${p.value*n.value}px))`:he(),transition:"none"}:void 0));return(0,ce.Y)(m,(()=>{const e=t.value?.style.transform??null,a=t.value?.style.transition??null;(0,l.nT)((()=>{t.value?.style.setProperty("transform",x.value?.transform||"none"),t.value?.style.setProperty("transition",x.value?.transition||null)})),(0,K.jr)((()=>{t.value?.style.setProperty("transform",e),t.value?.style.setProperty("transition",a)}))})),{isDragging:m,dragProgress:p,dragStyles:x}}function he(){throw new Error}var be=a(5296),ke=a(9923),we=a(2886),xe=a(2858),Ce=a(86),Ee=a(7018),Se=a(2067),Ae=a(3240),_e=a(6314),Le=a(2876),Ie=a(7664),Fe=a(6892);const We=["start","end","left","right","top","bottom"],$e=(0,d.j)({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>We.includes(e)},sticky:Boolean,...(0,ke.r)(),...(0,s.u)(),...(0,Ce.e)(),...(0,u.hx)({mobile:null}),...(0,Ee.s)(),...H(),...(0,Ae.S)(),...(0,c.X)({tag:"nav"}),...(0,Ie.yx)()},"VNavigationDrawer"),Ve=(0,v.RW)()({name:"VNavigationDrawer",props:$e(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:a,emit:o,slots:i}=t;const{isRtl:r}=(0,be.IA)(),{themeClasses:s}=(0,Ie.NX)(e),{borderClasses:c}=(0,ke.M)(e),{backgroundColorClasses:d,backgroundColorStyles:v}=(0,we.z6)((0,K.lW)(e,"color")),{elevationClasses:m}=(0,Ee.j)(e),{displayClasses:p,mobile:f}=(0,u._F)(e),{roundedClasses:g}=(0,Ae.v)(e),y=(0,_e.rd)(),h=(0,Se.q)(e,"modelValue",null,(e=>!!e)),{ssrBootStyles:b}=(0,oe.K)(),{scopeId:k}=(0,Le.b)(),w=(0,K.KR)(),x=(0,K.IJ)(!1),{runOpenDelay:C,runCloseDelay:E}=(0,Ce.Z)(e,(e=>{x.value=e})),S=(0,l.EW)((()=>e.rail&&e.expandOnHover&&x.value?Number(e.width):Number(e.rail?e.railWidth:e.width))),A=(0,l.EW)((()=>(0,Fe.dO)(e.location,r.value))),_=(0,l.EW)((()=>e.persistent)),L=(0,l.EW)((()=>!e.permanent&&(f.value||e.temporary))),I=(0,l.EW)((()=>e.sticky&&!L.value&&"bottom"!==A.value));(0,ce.Y)((()=>e.expandOnHover&&null!=e.rail),(()=>{(0,l.wB)(x,(e=>o("update:rail",!e)))})),(0,ce.Y)((()=>!e.disableResizeWatcher),(()=>{(0,l.wB)(L,(t=>!e.permanent&&(0,l.dY)((()=>h.value=!t))))})),(0,ce.Y)((()=>!e.disableRouteWatcher&&!!y),(()=>{(0,l.wB)(y.currentRoute,(()=>L.value&&(h.value=!1)))})),(0,l.wB)((()=>e.permanent),(e=>{e&&(h.value=!0)})),null!=e.modelValue||L.value||(h.value=e.permanent||!f.value);const{isDragging:F,dragProgress:W}=ye({el:w,isActive:h,isTemporary:L,width:S,touchless:(0,K.lW)(e,"touchless"),position:A}),$=(0,l.EW)((()=>{const t=L.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):S.value;return F.value?t*W.value:t})),V=(0,l.EW)((()=>["top","bottom"].includes(e.location)?0:S.value)),{layoutItemStyles:M,layoutItemScrimStyles:R}=G({id:e.name,order:(0,l.EW)((()=>parseInt(e.order,10))),position:A,layoutSize:$,elementSize:V,active:(0,l.EW)((()=>h.value||F.value)),disableTransitions:(0,l.EW)((()=>F.value)),absolute:(0,l.EW)((()=>e.absolute||I.value&&"string"!==typeof N.value))}),{isStuck:N,stickyStyles:B}=ue({rootEl:w,isSticky:I,layoutItemStyles:M}),X=(0,we.z6)((0,l.EW)((()=>"string"===typeof e.scrim?e.scrim:null))),D=(0,l.EW)((()=>({...F.value?{opacity:.2*W.value,transition:"none"}:void 0,...R.value})));return(0,xe.Uh)({VList:{bgColor:"transparent"}}),(0,J.C)((()=>{const t=i.image||e.image;return(0,l.bF)(l.FK,null,[(0,l.bF)(e.tag,(0,l.v6)({ref:w,onMouseenter:C,onMouseleave:E,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":L.value,"v-navigation-drawer--persistent":_.value,"v-navigation-drawer--active":h.value,"v-navigation-drawer--sticky":I.value},s.value,d.value,c.value,p.value,m.value,g.value,e.class],style:[v.value,M.value,b.value,B.value,e.style,["top","bottom"].includes(A.value)?{height:"auto"}:{}]},k,a),{default:()=>[t&&(0,l.bF)("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?(0,l.bF)(re.K,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},i.image):(0,l.bF)(se.y,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),i.prepend&&(0,l.bF)("div",{class:"v-navigation-drawer__prepend"},[i.prepend?.()]),(0,l.bF)("div",{class:"v-navigation-drawer__content"},[i.default?.()]),i.append&&(0,l.bF)("div",{class:"v-navigation-drawer__append"},[i.append?.()])]}),(0,l.bF)(n.eB,{name:"fade-transition"},{default:()=>[L.value&&(F.value||h.value)&&!!e.scrim&&(0,l.bF)("div",(0,l.v6)({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[D.value,X.backgroundColorStyles.value],onClick:()=>{_.value||(h.value=!1)}},k),null)]})])})),{isStuck:N}}});var Me=a(1161);const Re={class:"p-2 py-7 flex items-center justify-center gap-2"},Ne={class:"p-1 pt-4 flex items-center justify-center"},Be=["src"],Xe={class:"w-full bg-white flex justify-between items-center px-3 shadow-sm"},De={class:"flex items-center"},Ke={class:"flex items-center text-start text-xs"},ze={class:"text-sm"},je={class:"caption"};function Te(e,t,a,s,u,c){const d=(0,l.g2)("router-link"),v=(0,l.g2)("BellAlert"),m=(0,l.g2)("MenuAsPopover"),p=(0,l.g2)("router-view"),f=(0,l.g2)("notification-alert");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(r.J,null,{default:(0,l.k6)((()=>[(0,l.bF)(ee,null,{default:(0,l.k6)((()=>[e.isCamposGeneralesView?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(Ve,{key:0,modelValue:s.drawer,"onUpdate:modelValue":t[0]||(t[0]=e=>s.drawer=e),rail:s.rail,permanent:"",onClick:t[1]||(t[1]=e=>s.rail=!1),color:"#28415c",class:"border-0"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Re,[(0,l.Lk)("div",null,[(0,l.Lk)("div",Ne,[(0,l.Lk)("img",{src:s.logo,class:"w-[6rem] bg-primary-100 rounded-md"},null,8,Be)])])]),(0,l.bF)(te.x8,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.filteredItems,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.value},[0===e.children.length?((0,l.uX)(),(0,l.Wv)(d,{key:0,to:e.to},{default:(0,l.k6)((()=>[(0,l.bF)(ae.g,{onClick:t=>s.selectItem(e.to),"prepend-icon":e.icon,title:e.title,value:e.value,class:(0,o.C4)({"selected-item-orange":s.selectedItem===e.to})},null,8,["onClick","prepend-icon","title","value","class"]),s.rail?((0,l.uX)(),(0,l.Wv)(Me.y,{key:0,activator:"parent",location:"end"},{default:(0,l.k6)((()=>[(0,l.eW)((0,o.v_)(e.title),1)])),_:2},1024)):(0,l.Q3)("",!0)])),_:2},1032,["to"])):((0,l.uX)(),(0,l.Wv)(le.K,{key:1,modelValue:e.open,"onUpdate:modelValue":t=>e.open=t,fluid:""},{activator:(0,l.k6)((({props:t})=>[(0,l.bF)(ae.g,(0,l.v6)({ref_for:!0},t,{"prepend-icon":e.icon,title:e.title,color:"#dad9dc"}),null,16,["prepend-icon","title"])])),default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.children,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.value},[e.children.length>0?((0,l.uX)(),(0,l.Wv)(le.K,{key:0,modelValue:e.open,"onUpdate:modelValue":t=>e.open=t,fluid:""},{activator:(0,l.k6)((({props:t})=>[(0,l.bF)(ae.g,(0,l.v6)({ref_for:!0},t,{"prepend-icon":e.icon,title:e.title}),null,16,["prepend-icon","title"])])),default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.children,(e=>((0,l.uX)(),(0,l.Wv)(d,{key:e.value,to:e.to},{default:(0,l.k6)((()=>[(0,l.bF)(ae.g,{onClick:t=>s.selectItem(e.to),"prepend-icon":e.icon,title:e.title,value:e.value,class:(0,o.C4)({"selected-item-orange":s.selectedItem===e.to})},null,8,["onClick","prepend-icon","title","value","class"])])),_:2},1032,["to"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):((0,l.uX)(),(0,l.Wv)(d,{key:1,to:e.to},{default:(0,l.k6)((()=>[(0,l.bF)(ae.g,{onClick:t=>s.selectItem(e.to),"prepend-icon":e.icon,title:e.title,value:e.value,class:(0,o.C4)({"selected-item-orange":s.selectedItem===e.to})},null,8,["onClick","prepend-icon","title","value","class"])])),_:2},1032,["to"]))])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]))])))),128))])),_:1})])),_:1},8,["modelValue","rail"])),(0,l.bF)(ie,{class:"h-screen layout-wider bg-slate-100 block"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Xe,[(0,l.bF)(i.D,{variant:"text",icon:"mdi-menu",color:"#2b4968",class:"cursor-pointer",onClick:t[2]||(t[2]=(0,n.D$)((e=>s.rail=!s.rail),["stop"]))}),(0,l.Lk)("div",De,[(0,l.bF)(v),(0,l.Lk)("div",Ke,[(0,l.bF)(te.x8,null,{default:(0,l.k6)((()=>[(0,l.bF)(ae.g,{class:"text-start item-personalizado","prepend-avatar":e.avatarPath},{default:(0,l.k6)((()=>[(0,l.bF)(I,null,{default:(0,l.k6)((()=>[(0,l.bF)(B,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",ze,"Hola, "+(0,o.v_)(s.nombre_usuario),1),(0,l.Lk)("div",je,(0,o.v_)(s.rols),1)])),_:1})])),_:1})])),_:1},8,["prepend-avatar"])])),_:1})]),(0,l.bF)(m)])]),(0,l.Lk)("section",{class:(0,o.C4)(["overflow-y-auto overflow-x-auto section_main custom-scrollbar",s.isMobile?"p-4":"pt-3 pl-6 pr-4"])},[(0,l.bF)(p)],2)])),_:1})])),_:1})])),_:1}),(0,l.bF)(f,{ref:"notificationAlert"},null,512)],64)}var Oe=a(1387),Pe=a(7511),Ue=a(8249);const He={class:"text-center"};function Ye(e,t,a,o,n,s){const u=(0,l.g2)("MenuConfiguracion");return(0,l.uX)(),(0,l.CE)("div",He,[(0,l.bF)(Ue.q,{modelValue:o.menu,"onUpdate:modelValue":t[1]||(t[1]=e=>o.menu=e),"close-on-content-click":!1,location:"end","onClick:outside":o.rotateIcon},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(i.D,(0,l.v6)({icon:"mdi-chevron-down",size:"small",variant:"text"},e,{class:{rotated:o.isRotated},onClick:o.rotateIcon}),null,16,["class","onClick"])])),default:(0,l.k6)((()=>[(0,l.bF)(r.J,{"min-width":"200"},{default:(0,l.k6)((()=>[(0,l.bF)(Pe.G),(0,l.bF)(te.x8,null,{default:(0,l.k6)((()=>[(0,l.bF)(ae.g,{class:"px-5"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.Lk)("div",{class:"cursor-pointer transition hover:text-#497fae-300 ease-in duration-100 flex gap-2 rounded-lg items-center text-gray-400 text-sm"},[(0,l.Lk)("i",{class:"fa-solid fa-user"}),(0,l.Lk)("span",null,"Perfil")],-1)]))),_:1}),(0,l.bF)(ae.g,{class:"px-5",onClick:o.openConfig},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.Lk)("div",{class:"cursor-pointer transition hover:text-#497fae-300 ease-in duration-100 flex gap-2 rounded-lg items-center text-gray-400 text-sm"},[(0,l.Lk)("i",{class:"fa-solid fa-gear"}),(0,l.Lk)("span",null,"Configuración")],-1)]))),_:1},8,["onClick"])])),_:1}),(0,l.bF)(te.x8,null,{default:(0,l.k6)((()=>[(0,l.bF)(ae.g,{class:"px-3"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:"py-2 px-5 bg-[#099cb4] hover:bg-[#6999c2] cursor-pointer transition ease-in duration-100 flex justify-between rounded-lg items-center text-white text-sm",onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e))},t[5]||(t[5]=[(0,l.Lk)("span",null,"Cerrar sesión",-1),(0,l.Lk)("i",{class:"fa-solid fa-right-from-bracket"},null,-1)]))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"]),(0,l.bF)(u,{"is-visible":o.isConfigDialogVisible,onClose:t[2]||(t[2]=e=>o.isConfigDialogVisible=!1),onConfigUpdated:o.refreshMenuData},null,8,["is-visible","onConfigUpdated"])])}var Ge=a(2586);const qe=(0,Ge.G)("v-alert-title");var Qe=a(9669),Je=a(2191),Ze=a(4581),et=a(9788),tt=a(8184),at=a(2428);const lt=["success","info","warning","error"],ot=(0,d.j)({border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Ze.TX,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>lt.includes(e)},...(0,s.u)(),...(0,Je.r)(),...(0,X.X)(),...(0,Ee.s)(),...(0,et.M)(),...(0,tt.S)(),...(0,Ae.S)(),...(0,c.X)(),...(0,Ie.yx)(),...(0,at.gI)({variant:"flat"})},"VAlert"),nt=(0,v.RW)()({name:"VAlert",props:ot(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const n=(0,Se.q)(e,"modelValue"),r=(0,l.EW)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),s=(0,l.EW)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:u}=(0,Ie.NX)(e),{colorClasses:c,colorStyles:d,variantClasses:v}=(0,at.rn)(s),{densityClasses:m}=(0,Je.Q)(e),{dimensionStyles:p}=(0,X.S)(e),{elevationClasses:f}=(0,Ee.j)(e),{locationStyles:g}=(0,et.z)(e),{positionClasses:y}=(0,tt.J)(e),{roundedClasses:h}=(0,Ae.v)(e),{textColorClasses:b,textColorStyles:k}=(0,we.aH)((0,K.lW)(e,"borderColor")),{t:w}=(0,be.Ym)(),x=(0,l.EW)((()=>({"aria-label":w(e.closeLabel),onClick(e){n.value=!1,a("click:close",e)}})));return()=>{const t=!(!o.prepend&&!r.value),a=!(!o.title&&!e.title),s=!(!o.close&&!e.closable);return n.value&&(0,l.bF)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},u.value,c.value,m.value,f.value,y.value,h.value,v.value,e.class],style:[d.value,p.value,g.value,e.style],role:"alert"},{default:()=>[(0,at.wN)(!1,"v-alert"),e.border&&(0,l.bF)("div",{key:"border",class:["v-alert__border",b.value],style:k.value},null),t&&(0,l.bF)("div",{key:"prepend",class:"v-alert__prepend"},[o.prepend?(0,l.bF)(re.K,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:e.density,icon:r.value,size:e.prominent?44:28}}},o.prepend):(0,l.bF)(Qe.w,{key:"prepend-icon",density:e.density,icon:r.value,size:e.prominent?44:28},null)]),(0,l.bF)("div",{class:"v-alert__content"},[a&&(0,l.bF)(qe,{key:"title"},{default:()=>[o.title?.()??e.title]}),o.text?.()??e.text,o.default?.()]),o.append&&(0,l.bF)("div",{key:"append",class:"v-alert__append"},[o.append()]),s&&(0,l.bF)("div",{key:"close",class:"v-alert__close"},[o.close?(0,l.bF)(re.K,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[o.close?.({props:x.value})]}):(0,l.bF)(i.D,(0,l.v6)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},x.value),null)])]})}}});var it=a(1606),rt=a(697),st=a(3745),ut=a(6856),ct=a(7576),dt=a(1950),vt=a(6993);const mt=(0,d.j)({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...(0,ct.D)({origin:"center center",scrollStrategy:"block",transition:{component:ut._},zIndex:2400})},"VDialog"),pt=(0,v.RW)()({name:"VDialog",props:mt(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:o}=t;const n=(0,Se.q)(e,"modelValue"),{scopeId:i}=(0,Le.b)(),r=(0,K.KR)();function s(e){const t=e.relatedTarget,a=e.target;if(t!==a&&r.value?.contentEl&&r.value?.globalTop&&![document,r.value.contentEl].includes(a)&&!r.value.contentEl.contains(a)){const e=(0,j.OW)(r.value.contentEl);if(!e.length)return;const a=e[0],l=e[e.length-1];t===a?l.focus():a.focus()}}function u(){a("afterEnter"),r.value?.contentEl&&!r.value.contentEl.contains(document.activeElement)&&r.value.contentEl.focus({preventScroll:!0})}function c(){a("afterLeave")}return(0,l.xo)((()=>{document.removeEventListener("focusin",s)})),vt.ZK&&(0,l.wB)((()=>n.value&&e.retainFocus),(e=>{e?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)}),{immediate:!0}),(0,l.wB)(n,(async e=>{e||(await(0,l.dY)(),r.value.activatorEl?.focus({preventScroll:!0}))})),(0,J.C)((()=>{const t=ct.L.filterProps(e),a=(0,l.v6)({"aria-haspopup":"dialog"},e.activatorProps),s=(0,l.v6)({tabindex:-1},e.contentProps);return(0,l.bF)(ct.L,(0,l.v6)({ref:r,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},t,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,"aria-modal":"true",activatorProps:a,contentProps:s,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:u,onAfterLeave:c},i),{activator:o.activator,default:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.bF)(re.K,{root:"VDialog"},{default:()=>[o.default?.(...t)]})}})})),(0,dt.O)({},r)}}),ft=(0,Ge.G)("v-spacer","div","VSpacer");var gt=a(4750);const yt={class:"flex justify-end mt-8 space-x-4"};function ht(e,t,a,o,n,i){const s=(0,l.g2)("v-list-item-content");return(0,l.uX)(),(0,l.Wv)(pt,{modelValue:o.isDialogVisible,"onUpdate:modelValue":t[2]||(t[2]=e=>o.isDialogVisible=e),"max-width":"800px"},{default:(0,l.k6)((()=>[(0,l.bF)(r.J,null,{default:(0,l.k6)((()=>[(0,l.bF)(it.r,{class:"headline justify-center"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.Lk)("span",null,"Configuración",-1)]))),_:1}),(0,l.bF)(rt.O,null,{default:(0,l.k6)((()=>[(0,l.bF)(I,{dense:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.configuraciones,(e=>((0,l.uX)(),(0,l.Wv)(B,{cols:"12",md:"6",key:e._id},{default:(0,l.k6)((()=>[(0,l.bF)(r.J,{class:"pa-3 hover-effect"},{default:(0,l.k6)((()=>[(0,l.bF)(ae.g,{"two-line":""},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(gt.W,{modelValue:e.itemName,"onUpdate:modelValue":t=>e.itemName=t,placeholder:e.itemKey,label:e.itemKey,dense:""},null,8,["modelValue","onUpdate:modelValue","placeholder","label"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),o.configuraciones.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(nt,{key:0,type:"info",class:"mt-4"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)(" No se encontró ninguna configuración. ")]))),_:1}))])),_:1}),(0,l.bF)(st.S,null,{default:(0,l.k6)((()=>[(0,l.bF)(ft),(0,l.Lk)("div",yt,[(0,l.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>o.closeDialog&&o.closeDialog(...e)),class:"px-6 py-2 bg-[#bfd3e6] text-gray-700 rounded-lg font-medium hover:bg-[#95b7d5] transition"}," Cancelar "),(0,l.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>o.saveConfig&&o.saveConfig(...e)),class:"px-6 py-2 bg-[#396895] text-white rounded-lg font-medium hover:bg-[#396895] transition"}," Guardar ")])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var bt=a(4874),kt=a.n(bt),wt=a(7370),xt=a(5129),Ct={name:"MenuConfiguracion",props:{isVisible:{type:Boolean,required:!0}},setup(e,{emit:t}){const a=(0,K.KR)(e.isVisible),o=(0,K.KR)([]),n=async()=>{try{const e=xt.A.state.token;if("CUSTOMER_MASTER"===xt.A.state.role){const t=await(0,wt.R)(e);o.value=t.data.data}}catch(e){console.error("Error fetching configuraciones:",e)}},i=()=>{a.value=!1,t("close")},r=async()=>{try{const e=xt.A.state.token,a=o.value.map((e=>({itemKey:e.itemKey,itemName:e.itemName,status:e.status})));await(0,wt.L)(e,a),xt.A.commit("setMenuData",a),kt().fire({icon:"success",title:"Configuración guardada",text:"Los cambios se han aplicado correctamente."}),setTimeout((()=>{location.reload()}),1500),i(),t("config-updated")}catch(e){console.error("Error guardando configuraciones:",e),kt().fire({icon:"error",title:"Error",text:"Hubo un problema al guardar la configuración."})}};return(0,l.sV)((()=>{n()})),(0,l.wB)((()=>e.isVisible),(e=>{a.value=e,e&&n()})),{isDialogVisible:a,configuraciones:o,closeDialog:i,saveConfig:r}}},Et=a(1241);const St=(0,Et.A)(Ct,[["render",ht],["__scopeId","data-v-584deae5"]]);var At=St,_t={components:{MenuConfiguracion:At},setup(){const e=(0,K.KR)(!1),t=(0,K.KR)(!1),a=(0,K.KR)(!1),l=()=>{e.value=!e.value},o=()=>{a.value=!0},n=()=>{localStorage.clear(),location.reload()},i=()=>{xt.A.dispatch("initializeMenuDataFromLocalStorage"),console.log("Menú actualizado desde localStorage.")};return{menu:t,isRotated:e,isConfigDialogVisible:a,rotateIcon:l,openConfig:o,logout:n,refreshMenuData:i}}};const Lt=(0,Et.A)(_t,[["render",Ye],["__scopeId","data-v-380648df"]]);var It=Lt,Ft=a(2683),Wt=a(650),$t=a(1714);let Vt=null;function Mt(e,t,a,l){const o="http://67.205.184.183:3000";Vt=(0,$t.io)(o,{extraHeaders:{auth:l}}),Vt.on("connect",(()=>{console.log("Conexión establecida con el servidor de Socket.IO")})),Vt.on("notificationUpdate",(t=>{console.log("Evento notificationUpdate recibido:",t),e&&e(t)})),Vt.on("stateGatewayUpdate",(e=>{console.log("Evento stateGatewayUpdate recibido:",e),t&&t(e)})),Vt.on("connect_error",(e=>{console.error("Error de conexión Socket.IO:",e),a&&a(e)})),Vt.on("disconnect",(()=>{console.log("Conexión Socket.IO cerrada.")}))}function Rt(){Vt&&(Vt.disconnect(),Vt=null)}const Nt={class:"fixed top-10 pt-10 right-4 space-y-4 z-[9000]"},Bt={key:0,class:"flex justify-end mb-2"},Xt={class:"flex flex-col"},Dt={class:"flex items-center justify-between gap-3"},Kt={class:"flex items-center gap-3"},zt={class:"text-xs font-medium"},jt={class:"flex items-center gap-2"},Tt=["onClick"],Ot=["onClick"],Pt={key:0,class:"mt-2 text-xs bg-opacity-30 p-2 rounded-md"};function Ut(e,t,a,i,r,s){return(0,l.uX)(),(0,l.CE)("div",Nt,[i.notifications.length>2?((0,l.uX)(),(0,l.CE)("div",Bt,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.removeAllNotifications&&i.removeAllNotifications(...e)),class:"bg-gray-300 hover:bg-gray-400 text-gray-800 text-sm px-3 py-1 rounded-lg shadow-md transition-all"}," Cerrar todas ")])):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.notifications,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:(0,o.C4)(["text-white px-6 py-3 rounded-lg shadow-lg transition-all duration-500 ease-in-out transform",[i.getNotificationClass(e.area),e.visible?"opacity-100 translate-x-0":"opacity-0 translate-x-4"]])},[(0,l.Lk)("div",Xt,[(0,l.Lk)("div",Dt,[(0,l.Lk)("div",Kt,[(0,l.Lk)("i",{class:(0,o.C4)(`mdi ${e.icon} text-xs`)},null,2),(0,l.Lk)("span",zt,(0,o.v_)(e.message)+" - "+(0,o.v_)(e.regla),1)]),(0,l.Lk)("div",jt,[(0,l.Lk)("button",{onClick:e=>i.toggleArea(a),class:"text-xs"},[(0,l.Lk)("i",{class:(0,o.C4)("mdi "+(e.showArea?"mdi-minus":"mdi-plus"))},null,2)],8,Tt),(0,l.Lk)("button",{onClick:e=>i.removeNotification(a),class:"text-xs text-white hover:text-gray-300"},t[1]||(t[1]=[(0,l.Lk)("i",{class:"mdi mdi-close"},null,-1)]),8,Ot)])]),(0,l.bF)(n.eB,{name:"fade"},{default:(0,l.k6)((()=>[e.showArea?((0,l.uX)(),(0,l.CE)("div",Pt,[(0,l.Lk)("span",null,(0,o.v_)(e.area),1)])):(0,l.Q3)("",!0)])),_:2},1024)])],2)))),128))])}var Ht={setup(){const e=(0,K.Kh)([]),t=(t,a,l,o="mdi-information",n=1e4)=>{const i={message:t,regla:a,area:l,icon:o,visible:!0,showArea:!1};e.push(i),setTimeout((()=>{i.visible=!1,setTimeout((()=>{const t=e.indexOf(i);-1!==t&&e.splice(t,1)}),1e4)}),n)},a=t=>{t>=0&&t<e.length&&e.splice(t,1)},l=()=>{e.splice(0,e.length)},o=t=>{e[t].showArea=!e[t].showArea},n=e=>" - El gateway ha vuelto a tener conectividad."===e?"bg-green-500":" - Se ha registrado un gateway inactivo."===e?"bg-red-500":"bg-gradient-to-r from-[#497fae] to-[#497fae]";return{notifications:e,showNotification:t,removeNotification:a,removeAllNotifications:l,toggleArea:o,getNotificationClass:n}}};const Yt=(0,Et.A)(Ht,[["render",Ut],["__scopeId","data-v-290c1ddc"]]);var Gt=Yt;const qt={class:"notification-container relative inline-block z-9000"},Qt={class:"relative"},Jt={key:0,class:"badge absolute top-0 mr-4 mt-1 pr-2 right-0 bg-red-500 text-white rounded-full px-2 py-1 text-xs transform translate-x-1/2 -translate-y-1/2 shadow-sm"},Zt={key:0,class:"notification-list absolute right-0 mt-2 w-80 bg-white border border-gray-200 shadow-xl rounded-lg overflow-hidden z-50 max-h-[95vh] overflow-y-auto custom-scrollbar"},ea={class:"divide-y divide-gray-100"},ta={class:"flex-1"},aa={class:"flex justify-between items-start"},la={class:"text-sm font-medium text-gray-800"},oa={class:"text-blue-500"},na=["onClick"],ia={key:0,class:"mt-2"},ra={key:0,class:"text-xs text-gray-600"},sa={class:"text-xs text-gray-600"},ua={class:"text-xs text-gray-400 mt-1"},ca=["onClick"],da={key:0,class:"text-center py-6 text-gray-500"};function va(e,t,a,i,r,s){return(0,l.uX)(),(0,l.CE)("div",qt,[(0,l.Lk)("div",{class:"bell cursor-pointer text-3xl",onClick:t[0]||(t[0]=(...e)=>i.toggleNotifications&&i.toggleNotifications(...e))},[(0,l.Lk)("button",Qt,[t[1]||(t[1]=(0,l.Lk)("i",{class:"mdi mdi-bell pr-2 transition-transform duration-300 hover:scale-110",style:{color:"#28415c"}},null,-1)),i.notifications.length?((0,l.uX)(),(0,l.CE)("span",Jt,(0,o.v_)(i.notifications.length),1)):(0,l.Q3)("",!0)])]),(0,l.bF)(n.eB,{name:"slide-fade"},{default:(0,l.k6)((()=>[i.showNotifications?((0,l.uX)(),(0,l.CE)("div",Zt,[(0,l.Lk)("ul",ea,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.sortedNotifications,((e,a)=>((0,l.uX)(),(0,l.CE)("li",{key:a,class:(0,o.C4)([i.getNotificationClass(e),"p-4 flex items-start justify-between hover:bg-gray-50 transition-colors duration-200"])},[(0,l.Lk)("div",ta,[(0,l.Lk)("div",aa,[(0,l.Lk)("p",la,[(0,l.Lk)("span",oa,"("+(0,o.v_)(e.identifier)+")",1),(0,l.eW)(" "+(0,o.v_)(e.name)+" - "+(0,o.v_)(e.namerule),1)]),(0,l.Lk)("button",{class:"text-blue-500 hover:text-blue-600 focus:outline-none ml-2",onClick:e=>i.toggleDetails(a)},[(0,l.Lk)("i",{class:(0,o.C4)(i.expandedItems[a]?"mdi mdi-minus":"mdi mdi-plus")},null,2)],8,na)]),(0,l.bF)(n.eB,{name:"fade"},{default:(0,l.k6)((()=>[i.expandedItems[a]?((0,l.uX)(),(0,l.CE)("div",ia,["Gateway"!==e.name?((0,l.uX)(),(0,l.CE)("p",ra,(0,o.v_)(e.area),1)):(0,l.Q3)("",!0),(0,l.Lk)("p",sa,(0,o.v_)(e.description),1),(0,l.Lk)("p",ua,(0,o.v_)(i.formatTimestamp(e.timestamp)),1)])):(0,l.Q3)("",!0)])),_:2},1024)]),(0,l.Lk)("button",{class:"text-red-500 hover:text-red-600 transition-colors duration-200",onClick:e=>i.removeNotification(a)},t[2]||(t[2]=[(0,l.Lk)("i",{class:"mdi mdi-close"},null,-1)]),8,ca)],2)))),128))]),i.notifications.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",da,t[3]||(t[3]=[(0,l.Lk)("i",{class:"mdi mdi-bell-off-outline text-2xl"},null,-1),(0,l.Lk)("p",{class:"mt-2"},"No hay notificaciones",-1)])))])):(0,l.Q3)("",!0)])),_:1})])}var ma=a(782),pa={setup(){const e=(0,K.KR)(!1),t=(0,ma.Pj)(),a=(0,K.KR)({}),o=(0,l.EW)((()=>t.getters.getNotifications)),n=(0,l.EW)((()=>[...o.value].reverse()));(0,l.wB)(o,(e=>{e.forEach(((e,t)=>{void 0===a.value[t]&&(a.value[t]=!1)}))}),{immediate:!0});const i=()=>{e.value=!e.value},r=e=>{const a=o.value.length-1-e;t.commit("removeNotification",a)},s=e=>{a.value[e]=!a.value[e]},u=e=>{const t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`},c=t=>{const a=document.querySelector(".notification-container");a&&!a.contains(t.target)&&(e.value=!1)};(0,l.sV)((()=>{document.addEventListener("click",c)})),(0,l.hi)((()=>{document.removeEventListener("click",c)}));const d=e=>"Se ha registrado un gateway inactivo."===e.description?"bg-red-200":"El gateway ha vuelto a tener conectividad."===e.description?"bg-green-200":"";return{showNotifications:e,notifications:o,sortedNotifications:n,expandedItems:a,toggleNotifications:i,removeNotification:r,toggleDetails:s,formatTimestamp:u,getNotificationClass:d}}};const fa=(0,Et.A)(pa,[["render",va]]);var ga=fa,ya={components:{MenuAsPopover:It,NotificationAlert:Gt,BellAlert:ga},setup(){const e=(0,K.KR)(!1),t=(0,K.KR)(!0),a=(0,K.KR)(!0),o=(0,K.KR)(""),n=(0,K.KR)(null),i=(0,K.KR)(!1),r=xt.A.state.logoName,s=(0,K.KR)(null),u=e=>{if(e&&e.description){s.value.showNotification(`(${e.identifier}) ${e.name}`,`${e.namerule}`,`${e.area} - ${e.description}`,"mdi-bell",1e4);const t={identifier:e.identifier,name:e.name,namerule:e.namerule,area:e.area,description:e.description,timestamp:(new Date).toISOString()};xt.A.dispatch("addNotification",t)}},c=e=>{if(!e||!e.description||!e.gateway||!e.date)return void console.error("Datos de notificación incompletos:",e);const t={identifier:e.gateway,name:"Gateway",namerule:"Estado",area:"",description:e.description,timestamp:new Date(e.date).toISOString(),type:"GATEWAY"};s.value?s.value.showNotification(`(${t.identifier}) ${t.name}`,`${t.namerule}`,`${t.area} - ${t.description}`,"mdi-gateway",1e4):console.warn("notificationAlert no está inicializado aún."),xt.A.dispatch("addNotification",t)},d=e=>{console.error("Error en la conexión de Socket.IO:",e)},v=(0,K.KR)([{icon:"mdi-tools",title:"Mantenimiento",value:"maintenanceMaster",to:"/maintenanceMaster",children:[{icon:"mdi-office-building",title:"Compañias",value:"companies",to:"/companies",children:[]}]},{icon:"mdi-wrench",title:"Mantenimiento",value:"maintenanceCompany",to:"/maintenanceCompany",children:[{icon:"mdi-account-multiple",title:"Clientes",value:"customers",to:"/customers",children:[]}]},{icon:"mdi-monitor",title:"Monitoreo",value:"monitoring",to:"/monitoring",children:[]},{icon:"mdi-wrench",title:"Mantenimientos",value:"maintenance",to:"/maintenance",children:[{icon:"mdi-ruler-square-compass",title:"Planos",value:"planes",to:"/planes",children:[]},{icon:"mdi-view-grid",title:xt.A.getters.getItemName("Layouts"),value:"layout",to:"/layout",children:[]},{icon:"mdi-map-marker",title:xt.A.getters.getItemName("Áreas"),value:"area",to:"/area",children:[]},{icon:"mdi-access-point",title:xt.A.getters.getItemName("Puntos de área"),value:"antennas",to:"/antennas",children:[]},{icon:"mdi-tag",title:xt.A.getters.getItemName("Items Moviles"),value:"tags",to:"/tags",children:[]},{icon:"mdi-account",title:"Operadores",value:"operators",to:"/operators",children:[]}]},{icon:"mdi-account-group",title:"Grupos",value:"groups",to:"/groups",children:[{icon:"mdi-tag-multiple",title:xt.A.getters.getItemName("Grupos etiquetas"),value:"gptags",to:"/gptags",children:[]},{icon:"mdi-map-marker-multiple",title:xt.A.getters.getItemName("Grupos áreas"),value:"gpareas",to:"/gpareas",children:[]}]},{icon:"mdi-shape",title:"Categorías",value:"categories",to:"/categorias",children:[{icon:"mdi-tag-outline",title:"Categorías de Etiquetas",value:"catTags",to:"/catTags",children:[]},{icon:"mdi-access-point-network",title:"Categorías de Antenas",value:"catAntennas",to:"/catAntennas",children:[]}]},{icon:"mdi mdi-bell-alert-outline",title:"Reglas de Notificaciones",value:"rules",to:"/rules",children:[]},{icon:"mdi-file-chart",title:"Reportes",value:"reports",to:"/reports",children:[]}]),m=async()=>{try{i.value=!0;const e=xt.A.state.token,t=await(0,Wt.IE)(e);if(t.data&&t.data.status){const e=t.data.data.map((e=>({icon:"mdi-label-outline",title:e.name,value:e._id,to:`/tags/${e._id}`}))),a=v.value.find((e=>"maintenance"===e.value))?.children.find((e=>"tags"===e.value));a&&(a.children=e)}}catch(e){console.error("Error cargando submenús dinámicos para Tags:",e)}finally{i.value=!1}},p=async()=>{try{i.value=!0;const e=xt.A.state.token,t=await(0,Ft.Pu)(e);if(t.data&&t.data.status){const e=t.data.data.map((e=>({icon:"mdi-folder-network-outline",title:e.name,value:e._id,to:`/antennas/${e._id}`}))),a=v.value.find((e=>"maintenance"===e.value))?.children.find((e=>"antennas"===e.value));a&&(a.children=e)}}catch(e){console.error("Error cargando submenús dinámicos para Antenas:",e)}finally{i.value=!1}},f=(0,Oe.lq)(),g=async()=>{i.value=!0,await xt.A.dispatch("fetchMenuData"),i.value=!1};(0,l.sV)((async()=>{o.value=xt.A.state.username,b(),window.addEventListener("resize",b),n.value=f.fullPath,0===Object.keys(xt.A.state.menuData).length&&await xt.A.dispatch("fetchMenuData")}));const y=(0,l.EW)((()=>"CUSTOMER_MASTER"===xt.A.state.role?"Cliente":"COMPANY_MASTER"===xt.A.state.role?"Compañia":"SUPER_MASTER"===xt.A.state.role?"Master":"")),h=(0,l.EW)((()=>"CUSTOMER_MASTER"===xt.A.state.role?v.value.filter((e=>"dashboard"===e.value||"monitoring"===e.value||"maintenance"===e.value||"groups"===e.value||"categories"===e.value||"reports"===e.value||"rules"===e.value)):"COMPANY_MASTER"===xt.A.state.role?v.value.filter((e=>"maintenanceCompany"===e.value)):"SUPER_MASTER"===xt.A.state.role?v.value.filter((e=>"maintenanceMaster"===e.value)):[])),b=()=>{e.value=window.innerWidth<=500},k=e=>{n.value=e};(0,l.sV)((async()=>{o.value=xt.A.state.username,b(),window.addEventListener("resize",b),n.value=f.fullPath,"CUSTOMER_MASTER"===xt.A.state.role&&(await p(),await m())}));const w=()=>{xt.A.dispatch("initializeMenuDataFromLocalStorage")};return(0,l.sV)((()=>{b(),window.addEventListener("resize",b),n.value=(0,Oe.lq)().fullPath,xt.A.dispatch("initializeMenuDataFromLocalStorage")})),(0,l.sV)((()=>{const e=xt.A.state.customerid;e?Mt(u,c,d,e):console.error("No se encontró customerid en el estado del store.")})),(0,l.xo)((()=>{Rt()})),{isMobile:e,drawer:t,rail:a,nombre_usuario:o,selectedItem:n,ItemsNavegation:v,filteredItems:h,selectItem:k,loadData:g,dialogLoader:i,rols:y,notificationAlert:s,refreshMenuData:w,logo:r,handleGatewayUpdate:c}}};const ha=(0,Et.A)(ya,[["render",Te]]);var ba=ha}}]);
//# sourceMappingURL=499.dc3db33e.js.map