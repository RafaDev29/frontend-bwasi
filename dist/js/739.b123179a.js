"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[739],{650:function(e,t,o){o.d(t,{Be:function(){return n},IE:function(){return s},W7:function(){return i},jO:function(){return r}});var a=o(1189);const l={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BASE_URL;function s(e){return a.A.get(`${l}/type-mobileitems`,{headers:{Authorization:`Bearer ${e}`}})}function r(e,t){return a.A.delete(`${l}/type-mobileitems/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t){return a.A.post(`${l}/type-mobileitems`,t,{headers:{Authorization:`Bearer ${e}`}})}function n(e,t,o){return a.A.patch(`${l}/type-mobileitems/${o}`,t,{headers:{Authorization:`Bearer ${e}`}})}},8120:function(e,t,o){o.r(t),o.d(t,{default:function(){return P}});var a=o(6768);const l={class:"flex justify-between items-center"},s={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 z-[9999]"};function r(e,t,o,r,i,n){const d=(0,a.g2)("formTable"),c=(0,a.g2)("AreasModal"),u=(0,a.g2)("createForm"),m=(0,a.g2)("EditForm");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",null,[(0,a.Lk)("div",l,[t[1]||(t[1]=(0,a.Lk)("h1",{class:"font-bold lg:text-2xl text-xl text-gray-500 mb-5"}," Categoria de Etiquetas",-1)),(0,a.Lk)("button",{class:"flex items-center justify-center bg-[#497fae] text-white font-bold px-4 py-1 rounded-lg hover:bg-[#6999c2] shadow-md mdi mdi-plus text-xl",onClick:t[0]||(t[0]=(...e)=>r.openCreateForm&&r.openCreateForm(...e))})]),(0,a.bF)(d,{items:r.items,onViewAreas:r.listAreas,onDeleteItem:r.deleteItems,onEditItem:r.openEditForm},null,8,["items","onViewAreas","onDeleteItem","onEditItem"]),r.isAreasModalVisible?((0,a.uX)(),(0,a.Wv)(c,{key:0,areas:r.selectedAreas,onClose:r.closeAreasModal,isVisible:r.isAreasModalVisible},null,8,["areas","onClose","isVisible"])):(0,a.Q3)("",!0),r.isCreateFormVisible?((0,a.uX)(),(0,a.Wv)(u,{key:1,onClose:r.closeCreateForm,onItemCreate:r.submitItems},null,8,["onClose","onItemCreate"])):(0,a.Q3)("",!0),r.isEditFormVisible?((0,a.uX)(),(0,a.Wv)(m,{key:2,item:r.selectedItem,onClose:r.closeEditForm,onUpdateItem:r.updateItems},null,8,["item","onClose","onUpdateItem"])):(0,a.Q3)("",!0)]),r.isLoading?((0,a.uX)(),(0,a.CE)("div",s,t[2]||(t[2]=[(0,a.Lk)("div",{class:"flex flex-col items-center space-y-4"},[(0,a.Lk)("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"}),(0,a.Lk)("p",{class:"text-white text-lg font-semibold"},"Cargando, por favor espera...")],-1)]))):(0,a.Q3)("",!0)],64)}var i=o(144),n=o(650),d=o(4232),c=o(2729),u=o(4260),m=o(9669),f=o(4750);function p(e,t,o,l,s,r){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(f.W,{modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=e=>l.search=e),label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-5 PT-3",density:"compact"},null,8,["modelValue"]),(0,a.bF)(c.J,{flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(u.Py,{headers:l.headers,items:l.filteredItems,search:l.search,density:"compact",class:"ma-2"},{["item.icon"]:(0,a.k6)((({item:e})=>[(0,a.bF)(m.w,{class:(0,d.C4)([e.icon,"text-2xl"])},null,8,["class"])])),["item.color"]:(0,a.k6)((({item:e})=>[(0,a.Lk)("div",{style:(0,d.Tr)({backgroundColor:e.color}),class:"w-6 h-6 rounded-full border border-gray-300"},null,4)])),["item.actions"]:(0,a.k6)((({item:e})=>[(0,a.bF)(m.w,{small:"",color:"#099cb4",class:"mr-4",onClick:t=>l.editItem(e)},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)(" mdi-pencil ")]))),_:2},1032,["onClick"]),(0,a.bF)(m.w,{small:"",color:"red",onClick:t=>l.deleteItem(e)},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)(" mdi-delete ")]))),_:2},1032,["onClick"])])),_:2},1032,["headers","items","search"])])),_:1})],64)}o(8992),o(4520),o(1454),o(7550);var b={name:"DataTable",props:{items:{type:Array,required:!0}},emits:["deleteItem","editItem","viewAreas"],setup(e,{emit:t}){const o=(0,i.KR)(""),l=(0,i.KR)([{key:"id",title:"ID"},{key:"name",title:"Nombre"},{key:"color",title:"Color"},{key:"icon",title:"Icono"},{key:"actions",title:"Acciones",sortable:!1}]),s=(0,a.EW)((()=>{if(!o.value)return r.value;const e=o.value.toLowerCase();return r.value.filter((t=>Object.values(t).some((t=>String(t).toLowerCase().includes(e)))))})),r=(0,a.EW)((()=>e.items.map(((e,t)=>({id:t+1,...e}))))),n=e=>{t("deleteItem",e)},d=e=>{t("editItem",e)},c=e=>{t("viewAreas",e)};return{search:o,headers:l,filteredItems:s,deleteItem:n,editItem:d,viewAreas:c}}},g=o(1241);const y=(0,g.A)(b,[["render",p],["__scopeId","data-v-acdd16f6"]]);var k=y,v=o(5130);const x={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-[9999]"},C={class:"bg-white rounded-lg shadow-md max-w-md w-full p-4"},w={class:"mb-4"},h={class:"mb-4"},I={key:0,class:"flex items-center"},L={key:1,class:"grid grid-cols-6 gap-2 mt-2"},E=["onClick"],A={class:"mb-4"},F={class:"flex justify-end space-x-2"};function D(e,t,o,l,s,r){return l.item?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("div",C,[t[9]||(t[9]=(0,a.Lk)("h2",{class:"text-xl font-semibold text-gray-700 mb-4 text-center"},"Crear categoría",-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,v.D$)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,a.Lk)("div",w,[t[5]||(t[5]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.form.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[v.Jo,l.form.name]])]),(0,a.Lk)("div",h,[t[6]||(t[6]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Seleccionar un ícono",-1)),(0,a.Lk)("div",{class:(0,d.C4)(["border border-gray-300 rounded-lg px-3 py-2 transition-all duration-300",{"h-auto py-4":l.isDropdownOpen,"h-12":!l.isDropdownOpen}]),onClick:t[1]||(t[1]=(...e)=>l.toggleDropdown&&l.toggleDropdown(...e))},[l.isDropdownOpen?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",I,[(0,a.Lk)("i",{class:(0,d.C4)([l.form.icon,"text-2xl ml-2"])},null,2)])),l.isDropdownOpen?((0,a.uX)(),(0,a.CE)("div",L,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.icons,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:(0,d.C4)(["cursor-pointer hover:bg-gray-100 flex justify-center items-center rounded-lg p-2",{"bg-#497fae-100 text-#497fae-500":l.form.icon===e}]),onClick:(0,v.D$)((t=>l.selectIcon(e)),["stop"])},[(0,a.Lk)("i",{class:(0,d.C4)([e,"text-2xl"])},null,2)],10,E)))),128))])):(0,a.Q3)("",!0)],2)]),(0,a.Lk)("div",A,[t[7]||(t[7]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Color",-1)),(0,a.bo)((0,a.Lk)("input",{type:"color","onUpdate:modelValue":t[2]||(t[2]=e=>l.form.color=e),class:"w-full h-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-#497fae-500"},null,512),[[v.Jo,l.form.color]])]),(0,a.Lk)("div",F,[(0,a.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>l.closeDialog&&l.closeDialog(...e)),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),t[8]||(t[8]=(0,a.Lk)("button",{type:"submit",class:"px-4 py-2 bg-[#396895] text-white rounded-lg hover:bg-[#396895]"}," Guardar ",-1))])],32)])])):(0,a.Q3)("",!0)}var _={emits:["close","ItemCreate"],setup(e,{emit:t}){const o=(0,i.KR)(!0),a=(0,i.KR)({name:"",color:"#000000",icon:""}),l=(0,i.KR)(!1),s=()=>{l.value=!l.value},r=e=>{a.value.icon=e,l.value=!1},n=["fa-solid fa-user","fa-solid fa-book","fa-solid fa-car","fa-solid fa-camera","fa-solid fa-music","fa-solid fa-microscope","fa-solid fa-flask","fa-solid fa-vial","fa-solid fa-vials","fa-solid fa-atom","fa-solid fa-scale-balanced","fa-solid fa-glasses","fa-solid fa-prescription-bottle","fa-solid fa-eye-dropper","fa-solid fa-virus","fa-solid fa-dna","fa-solid fa-radiation","fa-solid fa-syringe","fa-solid fa-pills","fa-solid fa-wind"],d=()=>{t("close")},c=async()=>{t("ItemCreate",a.value);const e=a.value;console.log(e)};return{item:o,form:a,icons:n,isDropdownOpen:l,toggleDropdown:s,selectIcon:r,closeDialog:d,submitForm:c}}};const V=(0,g.A)(_,[["render",D],["__scopeId","data-v-7d4fcd1c"]]);var K=V;const R={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-[9999]"},X={class:"bg-white rounded-lg shadow-lg max-w-md w-full p-6"},O={class:"mb-4"},$={class:"mb-4"},j={key:0,class:"flex items-center"},U={key:1,class:"grid grid-cols-6 gap-2 mt-2"},B=["onClick"],Q={class:"mb-4"},W={class:"flex justify-end space-x-2"};function z(e,t,o,l,s,r){return o.item?((0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("div",X,[t[9]||(t[9]=(0,a.Lk)("h2",{class:"text-lg font-semibold text-gray-700 mb-4 text-center"},"Editar categoría",-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,v.D$)(((...e)=>l.submitUpdate&&l.submitUpdate(...e)),["prevent"]))},[(0,a.Lk)("div",O,[t[5]||(t[5]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.editedItem.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-#497fae-500 focus:border-#497fae-500",required:""},null,512),[[v.Jo,l.editedItem.name]])]),(0,a.Lk)("div",$,[t[6]||(t[6]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Seleccionar un ícono",-1)),(0,a.Lk)("div",{class:(0,d.C4)(["border border-gray-300 rounded-lg px-3 py-2 transition-all duration-300",{"h-auto py-4":l.isDropdownOpen,"h-12":!l.isDropdownOpen}]),onClick:t[1]||(t[1]=(...e)=>l.toggleDropdown&&l.toggleDropdown(...e))},[l.isDropdownOpen?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",j,[(0,a.Lk)("i",{class:(0,d.C4)([l.editedItem.icon,"text-2xl ml-2"])},null,2)])),l.isDropdownOpen?((0,a.uX)(),(0,a.CE)("div",U,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.icons,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:(0,d.C4)(["cursor-pointer hover:bg-gray-100 flex justify-center items-center rounded-lg p-2",{"bg-#497fae-100 text-#497fae-500":l.editedItem.icon===e}]),onClick:(0,v.D$)((t=>l.selectIcon(e)),["stop"])},[(0,a.Lk)("i",{class:(0,d.C4)([e,"text-2xl"])},null,2)],10,B)))),128))])):(0,a.Q3)("",!0)],2)]),(0,a.Lk)("div",Q,[t[7]||(t[7]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Color",-1)),(0,a.bo)((0,a.Lk)("input",{type:"color","onUpdate:modelValue":t[2]||(t[2]=e=>l.editedItem.color=e),class:"w-full h-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-#497fae-500"},null,512),[[v.Jo,l.editedItem.color]])]),(0,a.Lk)("div",W,[(0,a.Lk)("button",{type:"button",onClick:t[3]||(t[3]=t=>e.$emit("close")),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),t[8]||(t[8]=(0,a.Lk)("button",{type:"submit",class:"px-4 py-2 bg-[#396895] text-white rounded-lg hover:bg-[#396895]"}," Guardar Cambios ",-1))])],32)])])):(0,a.Q3)("",!0)}var S={props:{item:{type:Object,required:!0}},emits:["close","updateItem"],setup(e,{emit:t}){const o=(0,i.KR)({...e.item}),l=["fa-solid fa-user","fa-solid fa-book","fa-solid fa-car","fa-solid fa-camera","fa-solid fa-music","fa-solid fa-microscope","fa-solid fa-flask","fa-solid fa-vial","fa-solid fa-vials","fa-solid fa-atom","fa-solid fa-scale-balanced","fa-solid fa-glasses","fa-solid fa-prescription-bottle","fa-solid fa-eye-dropper","fa-solid fa-virus","fa-solid fa-dna","fa-solid fa-radiation","fa-solid fa-syringe","fa-solid fa-pills","fa-solid fa-wind"],s=(0,i.KR)(!1),r=()=>{s.value=!s.value},n=e=>{o.value.icon=e,s.value=!1};(0,a.wB)((()=>e.item),(e=>{o.value={...e}}));const d=()=>{t("updateItem",o.value)};return{editedItem:o,icons:l,isDropdownOpen:s,toggleDropdown:r,selectIcon:n,submitUpdate:d}}};const M=(0,g.A)(S,[["render",z],["__scopeId","data-v-41ce9225"]]);var T=M,q=o(5129),J={components:{formTable:k,createForm:K,EditForm:T},setup(){const e=(0,i.KR)([]),t=(0,i.KR)(null),o=(0,i.KR)(null),l=(0,i.KR)(!1),s=(0,i.KR)(!1),r=(0,i.KR)(!1),d=(0,i.KR)(!1),c=()=>{r.value=!0},u=()=>{r.value=!1},m=()=>{l.value=!0},f=()=>{l.value=!1},p=e=>{t.value=e,s.value=!0},b=()=>{s.value=!1,t.value=null},g=e=>{o.value={...e},d.value=!0},y=()=>{d.value=!1},k=async t=>{m();try{const o=q.A.state.token,a=t._id,l=await(0,n.Be)(o,t,a);if(l){const o=e.value.findIndex((e=>e._id===a));-1!==o&&(e.value[o]={...e.value[o],...t}),y(),f()}}catch(o){console.error("Error al actualizar:",o),f()}},v=async e=>{try{const t=q.A.state.token;await(0,n.W7)(t,e),await C(),u()}catch(t){console.error("error al crear Layout:",t)}},x=async e=>{m();try{const t=q.A.state.token,o=e._id,a=await(0,n.jO)(t,o);a&&f(),await C(),setTimeout((()=>{location.reload()}),2e3)}catch(t){f(),console.error("Error al obtener los layout:",t)}},C=async()=>{m();try{const t=q.A.state.token,o=await(0,n.IE)(t);e.value=o.data.data,o&&f()}catch(t){f(),console.error("Error al obtener las rutas:",t)}};return(0,a.sV)(C),{items:e,fetchItems:C,openLoading:m,closeLoading:f,isLoading:l,listAreas:p,closeAreasModal:b,selectedAreas:t,isAreasModalVisible:s,deleteItems:x,isCreateFormVisible:r,openCreateForm:c,closeCreateForm:u,submitItems:v,updateItems:k,openEditForm:g,closeEditForm:y,isEditFormVisible:d,selectedItem:o}}};const N=(0,g.A)(J,[["render",r]]);var P=N}}]);
//# sourceMappingURL=739.b123179a.js.map