{"version":3,"file":"js/643.ac7576fd.js","mappings":"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","sources":["webpack://frontend-ebox-platform/../src/index.ts","webpack://frontend-ebox-platform/./src/utils/eventBus.js","webpack://frontend-ebox-platform/./src/views/MonitoringBeaconView.vue","webpack://frontend-ebox-platform/./src/api/MonitoringService.js","webpack://frontend-ebox-platform/./src/components/monitoring/ModalLayoutPlane.vue","webpack://frontend-ebox-platform/./src/components/monitoring/MonitoringBeacons.vue","webpack://frontend-ebox-platform/./src/components/monitoring/MonitoringBeacons.vue?e9f3","webpack://frontend-ebox-platform/./src/layouts/MonitoringLayout.vue","webpack://frontend-ebox-platform/./src/layouts/MonitoringLayout.vue?5bab","webpack://frontend-ebox-platform/./src/components/monitoring/ModalLayoutPlane.vue?1c40","webpack://frontend-ebox-platform/./src/views/MonitoringBeaconView.vue?6947"],"sourcesContent":["export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<\n\tWildcardHandler<T>\n>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(\n\t\ttype: Key,\n\t\thandler?: Handler<Events[Key]>\n\t): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(\n\t\ttype: undefined extends Events[Key] ? Key : never\n\t): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t} else {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from (`'*'` to remove a wildcard handler)\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t} else {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n","import mitt from \"mitt\";\n\nexport const eventBus = mitt();\n","<template>\n  <div class=\"flex flex-col justify-center items-center  relative\">\n    <!-- Buscador -->\n    <div class=\"w-full flex justify-center mb-4 relative\">\n      <div class=\"relative w-1/3\">\n        <!-- Icono de búsqueda -->\n        <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n          <svg class=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-4.35-4.35m2.1-6.65a7.5 7.5 0 11-15 0 7.5 7.5 0 0115 0z\" />\n          </svg>\n        </div>\n        <!-- Campo de entrada -->\n        <input v-model=\"searchQuery\" @input=\"updateSearchResults\" type=\"text\" placeholder=\"Buscar\"\n          class=\"w-full border border-gray-300 rounded-lg px-10 py-2 text-gray-700 focus:ring-2 focus:ring-[#497fae] focus:border-[#497fae] shadow-sm\" />\n        <!-- Lista de resultados -->\n        <ul v-if=\"searchResults.length > 0 && searchQuery.length > 0\"\n          class=\"absolute left-0 w-full bg-white border border-gray-300 rounded-lg shadow-lg mt-2 z-10\">\n          <li v-for=\"result in searchResults\" :key=\"result.id\" @click=\"selectBeaconFromSearch(result.id)\"\n            class=\"px-4 py-2 hover:bg-[#497fae] cursor-pointer flex justify-between items-center\">\n            <div>\n              <span class=\"font-semibold text-gray-800\">{{ result.name }}</span>\n              <span class=\"text-gray-500 text-sm block\">({{ result.identifier }})</span>\n            </div>\n            <span class=\"text-gray-400 text-sm italic\">{{ result.areaName }}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Vista principal -->\n    <div class=\"flex items-center justify-center bg-gray-100 mb-5 pb-5 w-full\">\n      <ModalLayoutPlane v-if=\"selectedLayout\" :key=\"selectedLayout._id\" :name=\"selectedLayout.name\"\n        :backgroundimage=\"selectedLayout.backgroundImage\" :areas=\"selectedLayout.areas\"\n        :highlightedBeacon=\"highlightedBeacon\" @highlight=\"highlightBeacon\" />\n    </div>\n\n    <!-- Bolas laterales con Vuetify tooltips -->\n    <div class=\"fixed top-1/2 right-5 transform -translate-y-1/2 flex flex-col items-center space-y-4 \">\n      <v-tooltip v-for=\"(layout, index) in layouts\" :key=\"layout._id\" :text=\"layout.name\">\n        <template v-slot:activator=\"{ props }\">\n          <div v-bind=\"props\"\n            class=\"w-10 h-10 rounded-full cursor-pointer flex items-center justify-center transition-transform duration-300\"\n            :class=\"{\n              'bg-[#6999c2] text-white transform scale-110 shadow-lg': index === selectedIndex,\n              'bg-[#bfd3e6] text-gray-700 hover:bg-[#6999c2]': index !== selectedIndex,\n            }\" @click=\"selectLayout(index)\">\n            {{ index + 1 }}\n          </div>\n        </template>\n      </v-tooltip>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, onUnmounted } from \"vue\";\nimport { listmonitoringApi, connectMonitoringSocket, disconnectMonitoringSocket } from \"@/api/MonitoringService\";\nimport ModalLayoutPlane from \"@/components/monitoring/ModalLayoutPlane.vue\";\nimport store from \"@/store\";\n\nexport default {\n  components: {\n    ModalLayoutPlane,\n  },\n  setup() {\n    const layouts = ref([]);\n    const selectedIndex = ref(0);\n    const searchQuery = ref(\"\");\n    const searchResults = ref([]);\n    const highlightedBeacon = ref(null);\n    const token = store.state.token;\n    const customerId = store.state.customerid;\n\n    const highlightBeacon = (id) => {\n      highlightedBeacon.value = id;\n      setTimeout(() => {\n        highlightedBeacon.value = null;\n      }, 10000);\n    };\n\n    const fetchMonitoringData = async () => {\n      try {\n        const response = await listmonitoringApi(token);\n        layouts.value = response.data.data.map((layout) => ({\n          ...layout,\n          areas: layout.areas.map((area) => ({\n            ...area,\n            items: area.items.map((beacon) => ({\n              ...beacon,\n              areaName: area.name,\n              layoutId: layout._id,\n            })),\n          })),\n        }));\n        connectMonitoringSocket(handleMonitoringUpdate, handleSocketError, customerId);\n      } catch (err) {\n        console.error(\"Error al cargar los datos:\", err);\n      }\n    };\n\n    const handleMonitoringUpdate = (data) => {\n      layouts.value = data;\n    };\n\n    const handleSocketError = (error) => {\n      console.error(\"Error en la conexión de Socket.IO:\", error);\n    };\n\n    const updateSearchResults = () => {\n  if (!searchQuery.value.trim()) {\n    searchResults.value = [];\n    return;\n  }\n\n  const query = searchQuery.value.toLowerCase();\n\n  const allBeacons = layouts.value.flatMap((layout) =>\n    layout.areas.flatMap((area) =>\n      area.items.map((beacon) => ({\n        ...beacon,\n        areaName: area.name,\n        layoutId: layout._id,\n      }))\n    )\n  );\n\n  searchResults.value = allBeacons\n    .filter(\n      (beacon) =>\n        beacon.name.toLowerCase().includes(query) || // Filtra por nombre\n        (beacon.identifier && beacon.identifier.toLowerCase().includes(query)) // Filtra por identificador\n    )\n    .map((beacon) => ({\n      id: beacon._id,\n      name: beacon.name,\n      identifier: beacon.identifier || \"N/A\",\n      areaName: beacon.areaName,\n      layoutId: beacon.layoutId,\n    }));\n};\n\n\n    const selectBeaconFromSearch = (id) => {\n      const beacon = layouts.value\n        .flatMap((layout) => layout.areas.flatMap((area) => area.items))\n        .find((beacon) => beacon._id === id);\n\n      if (beacon) {\n        const layoutIndex = layouts.value.findIndex(\n          (layout) => layout._id === beacon.layoutId\n        );\n        if (layoutIndex !== -1) {\n          selectedIndex.value = layoutIndex;\n        }\n        highlightBeacon(beacon._id);\n      }\n\n      searchQuery.value = \"\";\n      searchResults.value = [];\n    };\n\n    const selectedLayout = computed(() => layouts.value[selectedIndex.value]);\n\n    const selectLayout = (index) => {\n      selectedIndex.value = index;\n    };\n\n    onMounted(fetchMonitoringData);\n\n    onUnmounted(() => {\n      disconnectMonitoringSocket();\n    });\n\n    return {\n      layouts,\n      selectedLayout,\n      selectedIndex,\n      selectLayout,\n      searchQuery,\n      searchResults,\n      updateSearchResults,\n      selectBeaconFromSearch,\n      highlightBeacon,\n      highlightedBeacon,\n    };\n  },\n};\n</script>\n\n<style scoped>\n/* Personaliza la apariencia del tooltip o lista desplegable según sea necesario */\n</style>\n","import axiosInstance from \"@/config/http.config\";\nimport { io } from \"socket.io-client\";\nconst baseURL = process.env.VUE_APP_BASE_URL;\n// const baseWebsocket = process.env.VUE_APP_WEB_SOCKET;\nexport function listmonitoringApi(token) {\n  return axiosInstance.get(`${baseURL}/monitoring`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\n\nlet socket = null;\n\n/**\n * Conecta al servidor de Socket.IO y configura los eventos.\n * @param {Function} onMonitoringUpdate - Callback para manejar el evento `monitoringUpdate`.\n * @param {Function} onError - Callback para manejar errores de la conexión.\n */\nexport function connectMonitoringSocket(onMonitoringUpdate, onError, customerid) {\n  // URL estática para la conexión al servidor Socket.IO\n  const staticSocketURL = \"http://67.205.184.183:3000\"; // Reemplaza con tu URL de WebSocket\n  console.log(customerid , \"<<<<>>>>>\")\n  // Crear la conexión al servidor Socket.IO\n  socket = io(staticSocketURL, {\n    // transports: [\"websocket\"], // Forzar transporte WebSocket\n    extraHeaders: {\n      auth: customerid,\n    },\n  });\n\n  // Escuchar conexión exitosa\n  socket.on(\"connect\", () => {\n    console.log(\"Conexión establecida con el servidor de Socket.IO\");\n  });\n\n  // Escuchar el evento `monitoringUpdate`\n  socket.on(\"monitoringUpdate\", (data) => {\n    console.log(\"Evento monitoringUpdate recibido:\", data);\n    if (onMonitoringUpdate) {\n      onMonitoringUpdate(data);\n    }\n  });\n\n  // Manejar errores\n  socket.on(\"connect_error\", (error) => {\n    console.error(\"Error de conexión Socket.IO:\", error);\n    if (onError) {\n      onError(error);\n    }\n  });\n\n  // Manejar desconexión\n  socket.on(\"disconnect\", () => {\n    console.log(\"Conexión Socket.IO cerrada.\");\n  });\n}\n\n/**\n * Desconecta el cliente de Socket.IO.\n */\nexport function disconnectMonitoringSocket() {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n}\n","<template>\n  <div class=\"relative flex flex-col items-center\">\n    <h1 class=\"text-gray-700 font-bold text-lg mb-2 relative w-full\">\n      {{ name }}\n    </h1>\n\n    <div class=\"relative border border-gray-300 rounded-lg shadow-md\">\n      <v-stage ref=\"stage\" :config=\"stageConfig\" @contentClick=\"onStageClick\">\n        <v-layer>\n          <!-- Imagen de fondo -->\n          <v-image v-if=\"backgroundimage\" :config=\"{\n            image: backgroundImg,\n            width: stageConfig.width,\n            height: stageConfig.height\n          }\" />\n          <!-- Áreas existentes -->\n          <template v-for=\"area in areas\" :key=\"area._id\">\n            <!-- Área visual -->\n            <v-shape :config=\"{\n              sceneFunc: (context, shape) => {\n                const points = parseCoordinates(area.coordinates);\n                context.beginPath();\n                if (points.length > 0) {\n                  context.moveTo(points[0].x, points[0].y);\n                  for (let i = 1; i < points.length; i++) {\n                    context.lineTo(points[i].x, points[i].y);\n                  }\n                  context.closePath();\n                }\n                context.fillStrokeShape(shape);\n              },\n              fill: getAreaColor(area),\n              stroke: countBeaconsForAforo(area.items, area.aforo.typeItemMobiles) > area.aforo.amount ? 'red' : '',\n              strokeWidth: countBeaconsForAforo(area.items, area.aforo.typeItemMobiles) > area.aforo.amount ? 4 : 2 // Cambia el grosor del borde\n            }\" />\n\n            <v-text :config=\"{\n              text: `${area.name}\\n(${countBeaconsForAforo(area.items, area.aforo.typeItemMobiles)}/${area.aforo.amount})\\nTotal: ${area.items.length}`,\n              x: calculateAreaCenter(parseCoordinates(area.coordinates)).x,\n              y: calculateAreaCenter(parseCoordinates(area.coordinates)).y,\n              fontSize: 16,\n              fontFamily: 'Arial',\n              fill: 'black',\n              align: 'center',\n              verticalAlign: 'middle',\n              cursor: 'pointer'\n            }\" @mouseover=\"onTextHover\" @mouseout=\"onTextOut\" @click=\"onAreaNameClick(area)\"\n              :style=\"{ cursor: 'pointer' }\" />\n\n\n          </template>\n        </v-layer>\n      </v-stage>\n\n\n\n      <!-- Beacons en HTML superpuesto -->\n      <div class=\"absolute top-0 left-0 w-full h-full pointer-events-none\">\n        <div v-for=\"area in areas\" :key=\"area._id\" class=\"flex flex-wrap\">\n          <!-- Reducimos los beacons a uno por typeId -->\n          <MonitoringBeacon v-for=\"(beacon, index) in reduceBeaconsByTypeId(area.items)\" :key=\"beacon._id\"\n            :beacon=\"beacon\" :position=\"getBeaconPosition(beacon, area, index, area.items.length)\" :isHighlighted=\"highlightedBeacon &&\n              findBeaconAndAreaById(highlightedBeacon)?.area._id === area._id &&\n              beacon.typeId === findBeaconAndAreaById(highlightedBeacon)?.beacon.typeId\n              \" @highlight=\"$emit('highlight', $event)\" class=\"pointer-events-auto\" />\n\n\n        </div>\n      </div>\n\n\n    </div>\n  </div>\n\n  <MonitoringLayout />\n</template>\n\n<script>\nimport { ref, onMounted, watch } from 'vue';\nimport { eventBus } from '@/utils/eventBus';\nimport MonitoringBeacon from '@/components/monitoring/MonitoringBeacons.vue';\nimport MonitoringLayout from '@/layouts/MonitoringLayout.vue';\n\nexport default {\n  components: {\n    MonitoringBeacon,\n    MonitoringLayout\n\n  },\n  props: {\n    name: { type: String, required: true },\n    backgroundimage: { type: String, required: true },\n    areas: { type: Array, required: true },\n    highlightedBeacon: { type: String, default: null },\n  },\n  emits: ['highlight', 'beacon-group-count'],\n  setup(props, { emit }) {\n    const stageConfig = { width: 1300, height: 570 };\n    const backgroundImg = ref(null);\n    const highlightedBeacon = ref(null);\n    const getAreaColor = (area) => {\n  return area.color ? `${area.color}50` : \"rgba(173, 216, 230, 0.3)\"; // Usa el color del área con transparencia\n};\n\n\n\n    const calculateAreaCenter = (points) => {\n      const totalPoints = points.length;\n      const sum = points.reduce(\n        (acc, point) => {\n          acc.x += point.x;\n          acc.y += point.y;\n          return acc;\n        },\n        { x: 0, y: 0 }\n      );\n      return { x: sum.x / totalPoints, y: sum.y / totalPoints };\n    };\n\n    const parseCoordinates = (coordString) => {\n      if (!coordString || typeof coordString !== 'string') {\n        console.warn('Coordenadas inválidas:', coordString);\n        return [];\n      }\n      const parsed = coordString\n        .split(')')\n        .map((pair) => pair.trim())\n        .filter((pair) => pair.length > 0)\n        .map((pair) => {\n          const cleanPair = pair.replace('(', '').trim();\n          const [x, y] = cleanPair.split(',').map((num) => parseFloat(num.trim()));\n          return { x, y };\n        });\n\n\n      return parsed;\n    };\n\n    const loadBackgroundImage = () => {\n      if (props.backgroundimage) {\n        const image = new Image();\n        image.src = props.backgroundimage;\n        image.onload = () => {\n          backgroundImg.value = image;\n        };\n      }\n    };\n\n    const onAreaNameClick = (area) => {\n      console.log('Área seleccionada:', area);\n      eventBus.emit('area-clicked', area);\n    };\n\n    const getBeaconPosition = (beacon, area, index) => {\n      const areaPoints = parseCoordinates(area.coordinates);\n\n      // Determinar las dimensiones del área\n      const minX = Math.min(...areaPoints.map((point) => point.x));\n      const maxX = Math.max(...areaPoints.map((point) => point.x));\n      const minY = Math.min(...areaPoints.map((point) => point.y));\n      const maxY = Math.max(...areaPoints.map((point) => point.y));\n\n      const areaWidth = maxX - minX;\n      const areaHeight = maxY - minY;\n\n      // Calcular filas y columnas basadas en el número de beacons\n      const totalBeacons = area.items.length;\n      const columns = Math.ceil(Math.sqrt(totalBeacons)); // Número de columnas\n      const rows = Math.ceil(totalBeacons / columns); // Número de filas\n\n      // Calcular el tamaño de cada celda\n      const cellWidth = areaWidth / columns;\n      const cellHeight = areaHeight / rows;\n\n      // Determinar la posición del beacon en la cuadrícula\n      const row = Math.floor(index / columns); // Índice de la fila\n      const column = index % columns; // Índice de la columna\n\n      return {\n        x: minX + column * cellWidth + cellWidth / 2, // Centrar dentro de la celda\n        y: minY + row * cellHeight + cellHeight / 2, // Centrar dentro de la celda\n      };\n    };\n\n    const onTextHover = (e) => {\n      const container = e.target.getStage().container();\n      container.style.cursor = 'pointer';\n    };\n\n    const onTextOut = (e) => {\n      const container = e.target.getStage().container();\n      container.style.cursor = 'default';\n    };\n\n    const reduceBeaconsByTypeId = (items) => {\n      const grouped = items.reduce((acc, item) => {\n        if (!acc[item.typeId]) {\n          acc[item.typeId] = {\n            beacon: item,\n            count: 1\n          };\n        } else {\n          acc[item.typeId].count++;\n        }\n        return acc;\n      }, {});\n\n      // Convert to array and emit counts for each group\n      const groupedArray = Object.entries(grouped).map(([typeId, data]) => {\n        // Emit the count for this group\n        emit('beacon-group-count', {\n          typeId,\n          count: data.count,\n          beacon: data.beacon\n        });\n        \n        return {\n          ...data.beacon,\n          groupCount: data.count // Add count to beacon object for use in component\n        };\n      });\n\n      return groupedArray;\n    };\n\n    const filterBeaconsForAforo = (items, typeItemMobiles) => {\n      return items.filter((item) => typeItemMobiles.includes(item.typeId));\n    };\n\n    const countBeaconsForAforo = (items, typeItemMobiles) => {\n      // Solo cuenta los beacons que coinciden con los typeId permitidos\n      return items.filter((item) => typeItemMobiles.includes(item.typeId)).length;\n    };\n\n\n    const findBeaconsByTypeId = (typeId) => {\n      let grouped = [];\n      for (const area of props.areas) {\n        grouped = grouped.concat(area.items.filter((item) => item.typeId === typeId));\n      }\n      return grouped;\n    };\n\n\n\n    const findBeaconAndAreaById = (beaconId) => {\n      for (const area of props.areas) {\n        const found = area.items.find((item) => item._id === beaconId);\n        if (found) return { beacon: found, area };\n      }\n      return null;\n    };\n\n\n\n    onMounted(loadBackgroundImage);\n\n    watch(() => props.backgroundimage, loadBackgroundImage);\n\n\n    watch(() => props.highlightedBeacon, (newValue) => {\n      console.log('Nuevo valor recibido en highlightedBeacon (hijo):', newValue);\n      if (newValue) {\n        const beaconData = findBeaconById(newValue);\n        if (beaconData) {\n          console.log('Beacon encontrado (hijo):', beaconData);\n        } else {\n          console.warn('No se encontró el beacon con el ID (hijo):', newValue);\n        }\n      } else {\n        console.log('No hay beacon seleccionado (hijo).');\n      }\n    });\n\n    const findBeaconById = (beaconId) => {\n      for (const area of props.areas) {\n        const found = area.items.find((item) => item._id === beaconId);\n        if (found) return found;\n      }\n      return null;\n    };\n\n\n    const highlightBeacon = (id) => {\n      console.log(`Highlighting beacon with ID: ${id}`); // Verificar si se llama al evento\n      highlightedBeacon.value = id;\n      setTimeout(() => (highlightedBeacon.value = null), 3000); // Resalta por 3 segundos\n    };\n\n\n\n    watch(() => props.highlightedBeacon, (newValue) => {\n      console.log('Nuevo beacon destacado:', findBeaconAndAreaById(newValue));\n    });\n\n\n\n\n    return {\n      stageConfig,\n      backgroundImg,\n      parseCoordinates,\n      calculateAreaCenter,\n      onAreaNameClick,\n      getBeaconPosition,\n      onTextHover,\n      onTextOut,\n      filterBeaconsForAforo,\n      reduceBeaconsByTypeId,\n      highlightBeacon,\n      countBeaconsForAforo,\n      findBeaconById,\n      findBeaconsByTypeId,\n      findBeaconAndAreaById,\n      getAreaColor,\n    };\n  },\n};\n</script>\n","<template>\n  <div\n    v-if=\"position\"\n    class=\"absolute flex flex-col items-center cursor-pointer\"\n    :style=\"{\n      top: `${position.y}px`,\n      left: `${position.x}px`,\n      transform: 'translate(-50%, -50%)',\n    }\"\n  >\n    <div class=\"relative\">\n      <!-- Ícono del Beacon -->\n      <div\n        class=\"w-6 h-6 rounded-full shadow-md flex items-center justify-center\"\n        :class=\"{ 'highlighted': isHighlighted }\"\n        :style=\"{\n          backgroundColor: isHighlighted ? 'yellow' : (beacon.backgroundColor || 'white'),\n          border: `1px solid ${beacon.color || '#000000'}`,\n        }\"\n        @mouseover=\"showTooltip = true\"\n        @mouseleave=\"showTooltip = false\"\n      >\n        <i\n          :class=\"beacon.icon\"\n          :style=\"{\n            color: beacon.color,\n            fontSize: beacon.size || '14px',\n          }\"\n        ></i>\n      </div>\n\n      <!-- Tooltip with count -->\n      <div\n        v-if=\"showTooltip\"\n        class=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-1 px-2 py-1 bg-black text-white text-xs rounded whitespace-nowrap z-50\"\n      >\n        {{ beacon.typeName }} ({{ beacon.groupCount || 1 }})\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    beacon: {\n      type: Object,\n      required: true,\n    },\n    position: {\n      type: Object,\n      required: true,\n    },\n    isHighlighted: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  watch: {\n    isHighlighted(newValue) {\n      if (newValue) {\n        console.log(`Beacon with ID ${this.beacon._id} received highlight event.`);\n      }\n    },\n  },\n  data() {\n    return {\n      showTooltip: false\n    };\n  }\n};\n</script>\n\n<style scoped>\n.mdi {\n  transition: color 0.3s ease; /* Transición suave para el color del icono */\n}\n\n/* Efecto de resaltado mejorado */\n.highlighted {\n  animation: pulse 1.5s infinite ease-in-out;\n  transform: scale(1.2); /* Aumenta ligeramente el tamaño durante el resaltado */\n  box-shadow: 0 0 15px rgba(239, 68, 68, 0.6); /* Añade un brillo alrededor */\n}\n\n@keyframes pulse {\n  0% {\n    transform: scale(1.2);\n    background-color: #fc9b9b; /* Color inicial más claro */\n    box-shadow: 0 0 10px rgba(239, 68, 68, 0.8); /* Color basado en el rango de colores */\n  }\n  50% {\n    transform: scale(1.3);\n    background-color: #f86d6d; /* Color más vibrante */\n    box-shadow: 0 0 20px rgba(222, 41, 41, 1); /* Color más oscuro para mayor intensidad */\n  }\n  100% {\n    transform: scale(1.2);\n    background-color: #fc9b9b; /* Regreso al color inicial */\n    box-shadow: 0 0 10px rgba(239, 68, 68, 0.8); /* Suaviza el efecto */\n  }\n}\n\n/* Suaviza la transición al detener el resaltado */\n.highlighted:not(.highlighted) {\n  transition: all 0.3s ease;\n}\n\n/* Efectos al hover */\n.w-6.h-6:hover {\n  background-color: rgba(0, 0, 0, 0.1); /* Color de fondo al pasar el mouse */\n  box-shadow: 0 0 5px rgb(4, 66, 113); /* Suave sombra al hover */\n}\n</style>","import { render } from \"./MonitoringBeacons.vue?vue&type=template&id=3c75fa9a&scoped=true\"\nimport script from \"./MonitoringBeacons.vue?vue&type=script&lang=js\"\nexport * from \"./MonitoringBeacons.vue?vue&type=script&lang=js\"\n\nimport \"./MonitoringBeacons.vue?vue&type=style&index=0&id=3c75fa9a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c75fa9a\"]])\n\nexport default __exports__","<template>\n  <transition name=\"slide\">\n    <div v-if=\"isOpen\"\n      class=\"fixed top-0 right-0 w-1/4 h-full bg-white text-gray-800 shadow-lg p-6 overflow-y-auto bg-opacity-50 z-[9999]\">\n      <button class=\"relative justify-end text-[#1c9ccc] hover:text-[#1cb0c8] \" @click=\"closePanel\"> \n        <i class=\"mdi mdi-arrow-right-bold-circle text-3xl\"></i>\n      </button>\n      <div class=\"flex items-center justify-between mb-6\">\n        <h2 class=\"text-xl font-bold flex items-center\">\n          <span class=\"mdi mdi-map-marker text-2xl mr-2\"></span>\n          {{ area.name }}\n        </h2>\n        <div class=\"flex items-center text-sm bg-gray-100 p-2 rounded-lg shadow-md\">\n          <span class=\"mdi mdi-account-group text-blue-600 mr-0\"></span>\n          <p class=\"font-semibold mr-1\">Aforo:</p>\n          <p class=\"text-gray-700\">{{ area.aforo.amount }}</p>\n        </div>\n      </div>\n\n\n\n      <!-- Buscador -->\n      <div class=\"mb-6\">\n        <input v-model=\"searchQuery\" type=\"text\" placeholder=\"Buscar por nombre o identificador\"\n          class=\"w-full p-2 rounded-lg border border-[#1cb0c8] focus:outline-none\" />\n      </div>\n\n      <div v-if=\"area\" class=\"space-y-6\">\n\n        <!-- Items agrupados por tipo -->\n        <div>\n\n          <div class=\"space-y-6\">\n            <div v-for=\"(items, typeId) in filteredGroupedItems\" :key=\"typeId\"\n              class=\"bg-gray-100 p-4 rounded-lg shadow-md border border-gray-200\">\n              <p class=\"font-semibold text-[#1cb0c8] mb-4\">\n                 {{ items[0].typeName }} ({{ items.length }} etiquetas)\n              </p>\n              <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-1\">\n                <div v-for=\"(item, index) in filteredVisibleItems[typeId]\" :key=\"index\"\n                  class=\"p-1 rounded-sm\">\n                  <p class=\"text-sm text-gray-700\"><strong>◉</strong> {{ item.name }} ({{ item.identifier }})</p>\n                </div>\n              </div>\n              <div v-if=\"items.length > filteredVisibleItems[typeId].length\" class=\"text-right mt-4\">\n                <button class=\"text-[#1cb0c8] hover:text-[#1c9ccc] text-sm font-semibold\" @click=\"showMore(typeId)\">\n                  Ver más <span>&#x25BC;</span>\n                </button>\n              </div>\n              <div v-else-if=\"filteredVisibleItems[typeId].length > 6\" class=\"text-right mt-4\">\n                <button class=\"text-[#1cb0c8] hover:text-[#1c9ccc] text-sm font-semibold\" @click=\"showLess(typeId)\">\n                  Ver menos <span>&#x25B2;</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-else class=\"text-center text-gray-500\">\n        <p>No se seleccionó ningún área.</p>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { ref, computed, reactive, onMounted, onBeforeUnmount, watch } from \"vue\";\nimport { eventBus } from \"@/utils/eventBus\";\n\nexport default {\n  setup() {\n    const isOpen = ref(false);\n    const area = ref(null);\n    const searchQuery = ref(\"\");\n    const visibleItems = reactive({});\n    const filteredVisibleItems = reactive({});\n\n    const groupedItems = computed(() => {\n      if (!area.value?.items) return {};\n      return area.value.items.reduce((groups, item) => {\n        if (!groups[item.typeId]) {\n          groups[item.typeId] = [];\n        }\n        groups[item.typeId].push(item);\n        return groups;\n      }, {});\n    });\n\n    const filteredGroupedItems = computed(() => {\n      if (!searchQuery.value) return groupedItems.value;\n      const query = searchQuery.value.toLowerCase();\n      const filtered = {};\n      for (const [typeId, items] of Object.entries(groupedItems.value)) {\n        const filteredItems = items.filter(\n          (item) =>\n            item.name.toLowerCase().includes(query) ||\n            item.identifier.toLowerCase().includes(query)\n        );\n        if (filteredItems.length) {\n          filtered[typeId] = filteredItems;\n        }\n      }\n      return filtered;\n    });\n\n    const initializeVisibleItems = () => {\n      for (const typeId of Object.keys(groupedItems.value)) {\n        visibleItems[typeId] = groupedItems.value[typeId].slice(0, 6);\n      }\n    };\n\n    const updateFilteredVisibleItems = () => {\n      for (const [typeId, items] of Object.entries(filteredGroupedItems.value)) {\n        filteredVisibleItems[typeId] = items.slice(0, 6);\n      }\n    };\n\n    const showMore = (typeId) => {\n      const currentLength = filteredVisibleItems[typeId].length;\n      filteredVisibleItems[typeId] = filteredGroupedItems.value[typeId].slice(0, currentLength + 6);\n    };\n\n    const showLess = (typeId) => {\n      filteredVisibleItems[typeId] = filteredGroupedItems.value[typeId].slice(0, 6);\n    };\n\n    const openPanel = (receivedArea) => {\n      console.log(\"Evento recibido:\", receivedArea);\n      area.value = receivedArea;\n      initializeVisibleItems();\n      updateFilteredVisibleItems();\n      isOpen.value = true;\n    };\n\n    const closePanel = () => {\n      isOpen.value = false;\n      area.value = null;\n    };\n\n    watch(filteredGroupedItems, updateFilteredVisibleItems);\n\n    onMounted(() => {\n      eventBus.on(\"area-clicked\", openPanel);\n    });\n\n    onBeforeUnmount(() => {\n      eventBus.off(\"area-clicked\", openPanel);\n    });\n\n    return {\n      isOpen,\n      area,\n      searchQuery,\n      groupedItems,\n      filteredGroupedItems,\n      visibleItems,\n      filteredVisibleItems,\n      showMore,\n      showLess,\n      openPanel,\n      closePanel,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.slide-enter-active,\n.slide-leave-active {\n  transition: transform 0.3s ease;\n}\n\n.slide-enter {\n  transform: translateX(100%);\n}\n\n.slide-leave-to {\n  transform: translateX(100%);\n}\n</style>\n","import { render } from \"./MonitoringLayout.vue?vue&type=template&id=17d0a0bf&scoped=true\"\nimport script from \"./MonitoringLayout.vue?vue&type=script&lang=js\"\nexport * from \"./MonitoringLayout.vue?vue&type=script&lang=js\"\n\nimport \"./MonitoringLayout.vue?vue&type=style&index=0&id=17d0a0bf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17d0a0bf\"]])\n\nexport default __exports__","import { render } from \"./ModalLayoutPlane.vue?vue&type=template&id=74b36c06\"\nimport script from \"./ModalLayoutPlane.vue?vue&type=script&lang=js\"\nexport * from \"./ModalLayoutPlane.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MonitoringBeaconView.vue?vue&type=template&id=d5ab9a14&scoped=true\"\nimport script from \"./MonitoringBeaconView.vue?vue&type=script&lang=js\"\nexport * from \"./MonitoringBeaconView.vue?vue&type=script&lang=js\"\n\nimport \"./MonitoringBeaconView.vue?vue&type=style&index=0&id=d5ab9a14&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d5ab9a14\"]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","eventBus","mitt","class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","xmlns","fill","viewBox","stroke","d","_cache","$event","$setup","searchQuery","onInput","args","updateSearchResults","type","placeholder","searchResults","length","_hoisted_4","_Fragment","_renderList","result","id","onClick","selectBeaconFromSearch","_hoisted_6","_toDisplayString","name","_hoisted_7","identifier","_hoisted_8","areaName","_hoisted_5","_createCommentVNode","_hoisted_9","selectedLayout","_createBlock","_component_ModalLayoutPlane","_id","backgroundimage","backgroundImage","areas","highlightedBeacon","onHighlight","highlightBeacon","_hoisted_10","layouts","layout","index","_component_v_tooltip","text","activator","_withCtx","props","_mergeProps","ref_for","selectedIndex","selectLayout","_hoisted_11","_","baseURL","process","VUE_APP_BASE_URL","listmonitoringApi","token","axiosInstance","headers","Authorization","socket","connectMonitoringSocket","onMonitoringUpdate","onError","customerid","staticSocketURL","console","log","io","extraHeaders","auth","data","error","disconnectMonitoringSocket","disconnect","$props","_createVNode","_component_v_stage","ref","config","stageConfig","onContentClick","_ctx","onStageClick","default","_component_v_layer","_component_v_image","backgroundImg","width","height","area","_component_v_shape","context","shape","points","parseCoordinates","coordinates","beginPath","moveTo","x","y","lineTo","closePath","fillStrokeShape","getAreaColor","countBeaconsForAforo","items","aforo","typeItemMobiles","amount","_component_v_text","calculateAreaCenter","onMouseover","onTextHover","onMouseout","onTextOut","onAreaNameClick","style","cursor","reduceBeaconsByTypeId","beacon","_component_MonitoringBeacon","position","getBeaconPosition","isHighlighted","findBeaconAndAreaById","typeId","$emit","_component_MonitoringLayout","_normalizeStyle","_normalizeClass","backgroundColor","color","$data","showTooltip","onMouseleave","icon","size","typeName","groupCount","Object","required","Boolean","watch","newValue","this","__exports__","_Transition","isOpen","closePanel","_createTextVNode","filteredGroupedItems","filteredVisibleItems","item","_hoisted_12","showMore","_hoisted_13","_hoisted_14","showLess","_hoisted_15","_hoisted_16","setup","visibleItems","reactive","groupedItems","computed","value","reduce","groups","query","toLowerCase","filtered","entries","filteredItems","filter","includes","initializeVisibleItems","keys","updateFilteredVisibleItems","currentLength","openPanel","receivedArea","onMounted","onBeforeUnmount","components","MonitoringBeacon","MonitoringLayout","String","Array","emits","totalPoints","sum","acc","point","coordString","warn","parsed","split","pair","trim","cleanPair","replace","num","parseFloat","loadBackgroundImage","image","Image","src","onload","areaPoints","minX","Math","min","maxX","max","minY","maxY","areaWidth","areaHeight","totalBeacons","columns","ceil","sqrt","rows","cellWidth","cellHeight","row","floor","column","container","target","getStage","grouped","count","groupedArray","filterBeaconsForAforo","findBeaconsByTypeId","concat","beaconId","found","find","beaconData","findBeaconById","setTimeout","ModalLayoutPlane","store","state","customerId","fetchMonitoringData","async","response","layoutId","handleMonitoringUpdate","handleSocketError","err","allBeacons","flatMap","layoutIndex","findIndex","onUnmounted","render"],"sourceRoot":""}